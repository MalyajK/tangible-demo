(this.webpackJsonptangible=this.webpackJsonptangible||[]).push([[0],{109:function(e,t,n){},136:function(e,t,n){},157:function(e,t,n){},215:function(e,t,n){},324:function(e,t,n){},437:function(e,t,n){},440:function(e,t,n){},473:function(e,t,n){},533:function(e,t,n){},547:function(e,t){},565:function(e,t,n){},567:function(e,t,n){},578:function(e,t){},702:function(e,t,n){},827:function(e,t,n){},828:function(e,t,n){},830:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(2),r=n.n(c),i=n(16),s=n(31),l=n.n(s),o=n(48),j=Object(c.createContext)(null),d=(n(533),n(4)),u=n(132),b=n(133),h=n(36),O=n(147),x=n(57),p=n(115),m=n(26),f=[{title:"Dashboard",path:"/dashboard",icon:Object(a.jsx)(m.d,{}),iconClosed:Object(a.jsx)(x.a,{}),iconOpened:Object(a.jsx)(x.f,{}),subNav:[{title:"My Dashboard",path:"/dashboard/mydashboard",icon:Object(a.jsx)(O.c,{})},{title:"Team Dashboard",path:"/dashboard/teamdashboard",icon:Object(a.jsx)(O.b,{})}]},{title:"Goals",path:"/goals",icon:Object(a.jsx)(m.a,{}),iconClosed:Object(a.jsx)(x.a,{color:""}),iconOpened:Object(a.jsx)(x.f,{color:""}),subNav:[{title:"This Week",path:"/reports/thisweek",icon:Object(a.jsx)(h.e,{}),cName:"sub-nav"},{title:"This Month",path:"/reports/thismonth",icon:Object(a.jsx)(p.d,{}),cName:"sub-nav"},{title:"This Quarter",path:"/reports/thisquarter",icon:Object(a.jsx)(O.a,{})}]},{title:"Projects",path:"/projects",icon:Object(a.jsx)(m.i,{})},{title:"Tasks",path:"/tasks",icon:Object(a.jsx)(m.j,{}),iconClosed:Object(a.jsx)(x.a,{}),iconOpened:Object(a.jsx)(x.f,{}),subNav:[{title:"Add New",path:"/tasks/create",icon:Object(a.jsx)(x.a,{})}]},{title:"Team",path:"/team",icon:Object(a.jsx)(m.f,{})},{title:"Scheduler",path:"/scheduler",icon:Object(a.jsx)(m.c,{}),iconClosed:Object(a.jsx)(x.a,{}),iconOpened:Object(a.jsx)(x.f,{})},{title:"Notifications",path:"/notifications",icon:Object(a.jsx)(O.d,{color:"brown"})}];function g(){var e=Object(u.a)(["\n  height: 40px;\n  padding-left: 2rem;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  color: #264653;\n  font-size: 14px;\n  &:hover {\n    background: #F9F0D9;\n    color: black;\n    cursor: pointer;\n    border-left: 6px solid #E76F51;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(u.a)(["\n  margin-left: 10px;\n"]);return v=function(){return e},e}function y(){var e=Object(u.a)(["\n  display: flex;\n  color: #264653;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  list-style: none;\n  height: 50px;\n  text-decoration: none;\n  font-size: 16px;\n  borderRight: 1px;\n  &:hover {\n    background: #212529;\n    border-left: 6px solid #E76F51;\n    color: white;\n    cursor: pointer;\n  }\n"]);return y=function(){return e},e}var w=Object(b.a)(i.b)(y()),S=b.a.span(v()),k=Object(b.a)(i.b)(g()),C=function(e){var t=e.item,n=Object(c.useState)(!1),r=Object(d.a)(n,2),i=r[0],s=r[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(w,{to:t.path,onClick:t.subNav&&function(){return s(!i)},children:[Object(a.jsxs)("div",{children:[t.icon,Object(a.jsx)(S,{children:t.title})]}),Object(a.jsx)("div",{children:t.subNav&&i?t.iconOpened:t.subNav?t.iconClosed:null})]}),i&&t.subNav.map((function(e,t){return Object(a.jsxs)(k,{to:e.path,children:[e.icon,Object(a.jsx)(S,{children:e.title})]},t)}))]})},N=n(0),D=n(6),A=n.n(D),_=n(11),M=n(59),T=function(){var e=Object(o.b)().logout;return Object(a.jsx)("button",{className:"btn btn-sm",style:{width:"60px",marginRight:"15px",background:"#F4A261"},onClick:function(){return e({returnTo:"http://localhost:3000/logout"})},children:"Logout"})},E=n(49),F=n.n(E),R=F.a.create({baseURL:"http://localhost:5000/api/users"});function L(){var e=Object(o.b)().user,t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],s=n[1],l=Object(c.useState)(!0),j=Object(d.a)(l,2),u=j[0],b=j[1],h=new M.AvatarGenerator;return Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/userId/".concat(e.email)).then((function(e){b(!1),s(e.data.userId.rows[0])}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.email]),Object(a.jsxs)("div",{style:{marginTop:"35px",color:"#264653",textAlign:"center",borderStyle:"solid",borderColor:"grey",borderWidth:"1px",borderRadius:"10px",paddingTop:"5px",paddingBottom:"10px",marginLeft:"20px",marginRight:"20px"},children:[Object(a.jsx)("img",{src:h.generateRandomAvatar(r.user_id),alt:"profile pic",style:{width:"60px",height:"60px",marginBottom:"10px"}}),Object(a.jsx)("p",{style:{fontSize:"0.8rem"},children:"Signed in as:"}),Object(a.jsx)("p",{style:{marginTop:"-10px",marginBottom:"10px"},children:e.name}),Object(a.jsx)(T,{}),u?Object(a.jsx)(i.b,{to:"/users",children:Object(a.jsx)("button",{className:"btn btn-sm",style:{width:"60px",backgroundColor:"2A9D8F",color:"#fff"},children:"Profile"})}):Object(a.jsx)(i.b,{to:"/users/".concat(r.user_id),children:Object(a.jsx)("button",{className:"btn btn-sm",style:{width:"60px",backgroundColor:"#2A9D8F",color:"#fff"},children:"Profile"})})]})}n(565);function P(){var e=Object(u.a)(["\n  width: 100%;\n"]);return P=function(){return e},e}function I(){var e=Object(u.a)(["\n  display: flex;\n  padding-right: 7px;\n  padding-top: 60px;\n  background: #ededed;\n  width: 230px;\n  height: 100vh;\n  justify-content: left;\n  position: fixed;\n  top: 0;\n  z-index: 1;\n"]);return I=function(){return e},e}var q=b.a.nav(I()),z=b.a.div(P()),B=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,1)[0];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(N.b.Provider,{value:{size:"1.7rem"},children:Object(a.jsx)(q,{sidebar:t,children:Object(a.jsxs)(z,{children:[Object(a.jsx)("div",{id:"scroll",style:{height:"450px",overflowY:"scroll"},children:f.map((function(e,t){return Object(a.jsx)(C,{item:e},t)}))}),Object(a.jsx)(L,{})]})})})})},H=n(52),U=n(20),K=n(39),W=n(179),G=n(53),Y=n(342),J=function(e){var t=e.completion,n=e.endDate,r=e.size,i=Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),s=Date.UTC(new Date(n).getFullYear(),new Date(n).getMonth(),new Date(n).getDate()),l=Object(c.useState)(t>=100?"complete":i>s?"overdue":i===s?"due_today":(s-i)/864e5<=2?"near_due":"not_due"),o=Object(d.a)(l,1)[0];return"complete"===o?Object(a.jsx)(h.l,{size:r,color:"#35ad2a"}):"near_due"===o?Object(a.jsx)(W.a,{size:r,color:"red"}):"not_due"===o?Object(a.jsx)(h.c,{size:r,color:"#2a58ad"}):"due_today"===o?Object(a.jsx)(G.a,{size:r}):Object(a.jsx)(h.g,{size:r,color:"red"})},V=new M.AvatarGenerator,Q=[{Header:"",accessor:"assignee",Cell:function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:V.generateRandomAvatar(e.value),alt:"profile pic",id:"project-avatar"})})}},{Header:"Project Manager",accessor:"project_manager"},{Header:"Project Title",accessor:"project_title",Cell:function(e){return Object(a.jsx)(i.b,{to:"projects/".concat(e.row.original.project_id),children:Object(a.jsx)("div",{id:"project-title",children:e.value})})}},{Header:"Description",accessor:"project_description"},{Header:"Start Date",accessor:"start_date",Cell:function(e){var t=e.value;return Object(Y.default)(new Date(t),"dd/MM/yyyy")}},{Header:"End Date",accessor:"end_date",Cell:function(e){var t=e.value;return Object(Y.default)(new Date(t),"dd/MM/yyyy")}},{Header:"Status",accessor:"status",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsx)(J,{endDate:e.row.original.end_date,completion:parseInt(e.row.original.completion)})})}}],$=F.a.create({baseURL:"http://localhost:5000/api/projects"}),X=function(e){var t=e.filter,n=e.setFilter;return Object(a.jsx)("input",{value:t||"",onChange:function(e){return n(e.target.value)},className:"form-control",placeholder:"Search...."})},Z=(n(567),function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/projectsTable");case 2:t=e.sent,r(t.data.projectsTable.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var i=Object(c.useMemo)((function(){return Q}),[]),s=Object(c.useMemo)((function(){return n}),[n]),l=Object(K.useTable)({columns:i,data:s,initialState:{pageSize:5}},K.useGlobalFilter,K.useSortBy,K.usePagination),o=l.getTableProps,j=l.getTableBodyProps,u=l.headerGroups,b=l.page,O=l.nextPage,x=l.previousPage,p=l.canNextPage,m=l.canPreviousPage,f=l.pageOptions,g=l.gotoPage,v=l.pageCount,y=l.setPageSize,w=l.state,S=l.setGlobalFilter,k=l.prepareRow,C=w.globalFilter,N=w.pageIndex,D=w.pageSize;return Object(a.jsxs)("div",{id:"projects-main",children:[Object(a.jsx)(X,{filter:C,setFilter:S}),Object(a.jsxs)("p",{id:"projects-counter",children:["Showing ",D," of ",n.length," projects ..."]}),Object(a.jsxs)("table",Object(U.a)(Object(U.a)({},o()),{},{className:"table table-hover mt-4",children:[Object(a.jsx)("thead",{children:u.map((function(e){return Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsxs)("th",Object(U.a)(Object(U.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(a.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \u2193":" \u2191":""})]}))}))}))}))}),Object(a.jsx)("tbody",Object(U.a)(Object(U.a)({},j()),{},{children:b.map((function(e){return k(e),Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(U.a)(Object(U.a)({},e.getCellProps()),{},{id:"project-row",children:e.render("Cell")}))}))}))}))}))]})),Object(a.jsxs)("div",{className:"pagination",children:[Object(a.jsxs)("div",{children:["Page ",N+1," of ",f.length]}),Object(a.jsxs)("span",{style:{marginLeft:"220px"},children:["Go to page:"," ",Object(a.jsx)("input",{type:"number",min:1,max:Math.ceil(n.length/D),defaultValue:N+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;g(t)},style:{width:"50px",marginRight:"2px",marginLeft:"2px",textAlign:"center"}})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-info",onClick:function(){return g(0)},disabled:!m,style:{height:"25px",width:"30px",marginRight:"2px",marginLeft:"2px"},children:"<<"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return x()},disabled:!m,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Prev"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return O()},disabled:!p,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Next"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return g(v-1)},disabled:!p,style:{height:"25px",width:"30px",marginRight:"220px",marginLeft:"2px"},children:">>"}),Object(a.jsx)("select",{value:D,onChange:function(e){return y(Number(e.target.value))},style:{fontSize:"0.9rem"},children:[4,5,10].map((function(e){return Object(a.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]}),Object(a.jsxs)("div",{className:"row status-legend",children:[Object(a.jsx)(h.l,{size:20,color:"#35ad2a"}),Object(a.jsx)("span",{id:"status-legend",children:"Complete"}),Object(a.jsx)(W.a,{size:35,color:"red"}),Object(a.jsx)("span",{id:"status-legend",children:"Almost due"}),Object(a.jsx)(h.c,{size:25,color:"#2a58ad"}),Object(a.jsx)("span",{id:"status-legend",children:"Not due"}),Object(a.jsx)(G.a,{size:25}),Object(a.jsx)("span",{id:"status-legend",children:"Due Today"}),Object(a.jsx)(h.g,{size:20,color:"red"}),Object(a.jsx)("span",{id:"status-legend",children:"Overdue"})]})]})}),ee=(n(166),n(168),n(94)),te=n(34),ne=n.n(te),ae=n(345),ce=(n(669),function(e){var t=e.value;return Object(a.jsx)(ae.a,{value:parseInt(t),text:"".concat(t,"%"),styles:Object(ae.b)({rotation:0,strokeLinecap:"butt",textSize:"30px",pathTransitionDuration:.5,pathColor:"#21752c",textColor:"black",trailColor:"#f58122",backgroundColor:"#3e98c7"})})}),re=function(){var e=new M.AvatarGenerator,t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)({startDate:null,endDate:null}),l=Object(d.a)(s,2),o=l[0],j=l[1],u=Object(c.useState)(),b=Object(d.a)(u,2),h=b[0],O=b[1],x=o.startDate,p=o.endDate,m=Object(H.g)().id;return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/projectSummary/".concat(m)).then((function(e){i(e.data.projectSummary.rows[0])}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),Object(a.jsxs)("div",{className:"column",id:"project-details-left",children:[Object(a.jsx)("h3",{id:"project-detail-h3",children:"Summary"}),Object(a.jsx)("hr",{id:"project-details-hr-left"}),Object(a.jsx)("span",{id:"row-heading-small",children:Object(a.jsx)("strong",{children:"Project"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:r.project_title}),Object(a.jsx)(G.e,{id:"pencil"}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"project-details-hr-left"}),Object(a.jsx)("span",{id:"row-heading-small",children:Object(a.jsx)("strong",{children:"Description"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:r.project_description}),Object(a.jsx)(G.e,{id:"pencil"}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"project-details-hr-left"}),Object(a.jsx)("span",{id:"row-heading-small",children:"Project Manager"}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:r.project_manager}),Object(a.jsx)(G.e,{id:"pencil"}),Object(a.jsx)("img",{src:e.generateRandomAvatar(r.assignee),alt:"PM",id:"project-details-avatar"}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"project-details-hr-left",style:{marginTop:"30px"}}),Object(a.jsx)("span",{id:"row-heading-small",children:Object(a.jsx)("strong",{children:"Dates"})}),Object(a.jsx)(ee.DateRangePicker,{startDate:x,startDateId:"start_date",startDatePlaceholderText:ne()(r.start_date).format("DD/MM/YYYY"),endDate:p,endDateId:"end_date",endDatePlaceholderText:ne()(r.end_date).format("DD/MM/YYYY"),onDatesChange:function(e){return j(e)},focusedInput:h,onFocusChange:function(e){return O(e)},displayFormat:function(){return"DD/MM/YYYY"},openDirection:"up",required:!0,noBorder:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"project-details-hr-left"}),Object(a.jsx)("span",{id:"row-heading-small",children:"Task Count"}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"Finished / Total"}),Object(a.jsx)("span",{id:"project-task-count",children:"5 / 10"}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"project-details-hr-left",style:{marginTop:"10px"}}),Object(a.jsx)("span",{id:"row-heading-small",children:"Completion"}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{id:"project-details-progress",children:Object(a.jsx)(ce,{value:67})}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"project-details-hr-left",style:{marginTop:"20px"}}),Object(a.jsx)("span",{id:"row-heading-small",children:"Status"}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"(Nearing Due Date)"}),Object(a.jsx)("div",{id:"project-details-progress",children:Object(a.jsx)(J,{completion:45,endDate:r.end_date,size:40})}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"project-details-hr-left",style:{marginTop:"20px"}})]})},ie=F.a.create({baseURL:"http://localhost:5000/api/tasks"}),se=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2)[1],n=Object(c.useState)([]),r=Object(d.a)(n,2),s=r[0],l=r[1],o=Object(c.useState)([]),j=Object(d.a)(o,2),u=j[0],b=j[1],O=Object(H.g)().id;Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.get("/getTasksByProject/".concat(O)).then((function(e){t(!1),l(e.data.getTasksByProject.rows)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.get("/wtdAvg/".concat(O)).then((function(e){b(e.data.wtdAvg.rows),console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O]);var x=0;return u.forEach((function(e){x+=parseFloat(e.wtd_avg)})),Object(a.jsxs)("div",{className:"column",id:"project-details-right",children:[Object(a.jsx)("h3",{id:"project-detail-h3",children:"Constituent Tasks"}),Object(a.jsxs)("table",{className:"table table-hover",id:"project-task-table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Title"}),Object(a.jsx)("th",{children:"Assignee"}),Object(a.jsx)("th",{children:"Direction"}),Object(a.jsx)("th",{children:"Contribution"}),Object(a.jsx)("th",{children:"Placeholder"})]})}),Object(a.jsx)("tbody",{children:s.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)(i.b,{to:"/tasks/"+e.task_id,children:Object(a.jsx)("td",{id:"constituent-task",children:e.task_title},e.task_id)}),Object(a.jsx)("td",{children:e.full_name},e.user_id),e.completion<x?Object(a.jsx)("td",{id:"task-arrow",children:Object(a.jsx)(h.a,{color:"red",size:20})}):Object(a.jsx)("td",{id:"task-arrow",children:Object(a.jsx)(h.b,{color:"green",size:20})})]})}))})]})]})},le=function(){return Object(a.jsxs)("div",{className:"row",id:"project-details",children:[Object(a.jsx)(re,{}),Object(a.jsx)(se,{})]})},oe=function(){var e=Object(o.b)().loginWithRedirect;return Object(a.jsx)("button",{className:"btn btn-lg btn-info",onClick:function(){return e()},style:{width:"310px",borderRadius:"15px"},children:"Login"})},je=n.p+"static/media/originalOnTransparent.9ec286d5.png",de=function(){return Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)("form",{style:{marginTop:"150px",paddingTop:"35px",width:"400px",height:"400px"},children:Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsx)("img",{src:je,alt:"Tangible",style:{width:"310px",height:"240px",marginBottom:"30px"}}),Object(a.jsx)("div",{children:Object(a.jsx)(oe,{})})]})})})};function ue(){var e=Object(H.g)().id,t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!0),l=Object(d.a)(s,2),o=l[0],j=l[1];Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/userData/".concat(e)).then((function(e){j(!1),i(e.data.userData.rows[0])}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var u="/images/"+e+".png";return Object(a.jsxs)("div",{style:{textAlign:"center",justifyContent:"center",paddingTop:"80px"},children:[Object(a.jsx)("img",{style:{width:"80px",height:"80px",marginBottom:"15px"},src:o?"/images/default.png":u,alt:"profile pic"}),o?Object(a.jsx)("p",{children:"Fetching data ...."}):Object(a.jsxs)("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:[r.first_name," ",r.last_name]}),Object(a.jsxs)("table",{className:"table",style:{width:"400px",marginLeft:"520px"},children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{fontWeight:"bold",textAlign:"left"},children:"Department"}),Object(a.jsx)("td",{children:"|"}),o?Object(a.jsx)("td",{children:"Fetching data ...."}):Object(a.jsx)("td",{children:r.department_name})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{fontWeight:"bold",textAlign:"left"},children:"Location"}),Object(a.jsx)("td",{children:"|"}),o?Object(a.jsx)("td",{children:"Fetching data ...."}):Object(a.jsxs)("td",{children:[r.building," - ",r.city_name]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{fontWeight:"bold",textAlign:"left"},children:"Email"}),Object(a.jsx)("td",{children:"|"}),o?Object(a.jsx)("td",{children:"Fetching data ...."}):Object(a.jsx)("td",{children:r.email})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{fontWeight:"bold",textAlign:"left"},children:"Mobile"}),Object(a.jsx)("td",{children:"|"}),o?Object(a.jsx)("td",{children:"Fetching data ...."}):Object(a.jsx)("td",{children:r.mobile_no})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{fontWeight:"bold",textAlign:"left"},children:"Manager"}),Object(a.jsx)("td",{children:"|"}),Object(a.jsx)("td",{children:"Malyaj Kaloni"})]})]})]})}var be=n(674),he=n(261),Oe=n(137),xe=n(265),pe=n(339),me=n(863),fe=n(224),ge=n(77),ve=n(478),ye=n(150),we=n(95),Se=n(148),ke=n(29),Ce=n(222),Ne=n.n(Ce),De=(n(436),F.a.create({baseURL:"http://localhost:5000/api/calendar"})),Ae=(n(437),function(e){var t=e.updateIncoming,n=Object(c.useContext)(j),r=Object(c.useState)(),i=Object(d.a)(r,2),s=i[0],l=i[1],o=Object(c.useState)(),u=Object(d.a)(o,2),b=u[0],h=u[1],O=Object(c.useState)(""),x=Object(d.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)(""),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)([]),S=Object(d.a)(w,2),k=S[0],C=S[1],N=Object(c.useState)(!0),D=Object(d.a)(N,2),M=D[0],T=D[1],E=Object(c.useState)([]),F=Object(d.a)(E,2),L=F[0],P=F[1],I=s&&b&&p&&v&&L.length;Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/fullNames").then((function(e){C(e.data.fullNames.rows),T(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var q=k.map((function(e){return{label:e.full_name,value:e.user_id}})),z=[n];L.map((function(e){return z.push(e.value)}));var B=function(){var e=Object(_.a)(A.a.mark((function e(a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(b<s)){e.next=5;break}alert("End time must be greater than start time"),e.next=13;break;case 5:return e.prev=5,e.next=8,De.post("/",{event_type:p,event_title:v,start_time:s,end_time:b,event_creator:n,invitees:z,is_live:!0}).then((function(e){200===e.status&&(alert("Event added to calendar!"),t(!0),m(""),y(""),l(null),h(null),P([]))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}();return M?null:Object(a.jsx)("div",{id:"header-container",children:Object(a.jsxs)(ge.a,{className:"row",children:[Object(a.jsxs)(Se.a,{className:"mr-3",children:[Object(a.jsx)(ye.a,{children:"Event Type"}),Object(a.jsxs)(we.a,{as:"select",required:!0,value:p,onChange:function(e){return m(e.target.value)},children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{value:"Internal Meeting",children:"Internal Meeting"}),Object(a.jsx)("option",{value:"Customer Meeting",children:"Customer Meeting"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Event Title"}),Object(a.jsx)(we.a,{type:"text",value:v,onChange:function(e){return y(e.target.value)},style:{width:"250px"},placeholder:"max 50 characters",maxLength:50,required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Start"}),Object(a.jsx)("br",{}),Object(a.jsx)(Ne.a,{showTimeSelect:!0,selected:s,dateFormat:"h:mm aa / do MMM",timeIntervals:15,value:s,onChange:function(e){return l(e)},required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"End"}),Object(a.jsx)("br",{}),Object(a.jsx)(Ne.a,{showTimeSelect:!0,selected:b,dateFormat:"h:mm aa / do MMM",timeIntervals:15,value:b,onChange:function(e){return h(e)},required:!0})]}),Object(a.jsxs)(Se.a,{className:"ml-3 mr-3",children:[Object(a.jsx)(ye.a,{children:"Participants"}),Object(a.jsx)(ve.a,{options:q,value:L,onChange:P,labelledBy:"Select",hasSelectAll:!1,className:"invitee-dropdown"})]}),Object(a.jsx)("div",{id:"create-event-button",children:Object(a.jsx)(ke.a,{type:"button",onClick:B,disabled:!I,children:"CREATE"})})]})})}),_e=n(43),Me=n(78),Te=n(118),Ee=n(264),Fe=new Date;function Re(e){var t=[],n=e;function a(e){return e[e.length-1][6]}return function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=Object(Me.default)(Object(Te.default)(e));return function(){var e=Object(_e.a)(Array(7)).map((function(e,n){return Object(Oe.default)(t,n)}));return t=Object(Oe.default)(e[6],1),e}}(Object(he.default)(n)),c=Object(Te.default)(Object(Ee.default)(Object(xe.default)(n)));for(t.push(e());a(t)<c;)t.push(e());var r=t;return t=[],n=Object(Oe.default)(a(r),1),r}}var Le=n(859),Pe=n(104),Ie=(n(702),function(e){var t=e.eventId,n=e.showModal,r=e.handleClose,i=e.incoming,s=new M.AvatarGenerator,l=Object(c.useState)([]),o=Object(d.a)(l,2),j=o[0],u=o[1],b=Object(c.useState)(!0),h=Object(d.a)(b,2),O=h[0],p=h[1],m=Object(c.useState)([]),f=Object(d.a)(m,2),g=f[0],v=f[1],y=Object(c.useState)(!0),w=Object(d.a)(y,2),S=w[0],k=w[1];Object(c.useEffect)((function(){if(t){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.get("/event/".concat(t)).then((function(e){u(e.data.eventById.rows[0]),p(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}}),[t]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/fullNames").then((function(e){v(e.data.fullNames.rows),k(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var C=function(){var e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.event_id){e.next=11;break}return e.prev=1,e.next=4,De.patch("/delete/".concat(j.event_id)).then((function(e){200===e.status&&(alert("Event cancelled"),r(),i(!0))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:e.next=12;break;case 11:alert("Error. Try again later");case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return!t||S||O?null:Object(a.jsx)("div",{children:Object(a.jsxs)(Le.a,{id:"event-modal",elevation:4,style:{display:n?"block":"none"},children:[Object(a.jsx)("h5",{style:{textAlign:"center",fontWeight:"bold"},children:"Event Details"}),Object(a.jsx)("hr",{style:{width:"100%",borderColor:"lightgrey"}}),Object(a.jsx)("img",{id:"event-creator",src:s.generateRandomAvatar(j.event_creator),alt:"profile pic"}),Object(a.jsx)("h6",{id:"event-modal-title",children:j.event_title}),Object(a.jsx)("hr",{style:{width:"100%",borderColor:"lightgrey"}}),Object(a.jsx)("p",{style:{textAlign:"center",color:"red",display:Object(fe.default)(new Date(j.start_time),new Date)?"none":"block"},children:"This event has expired"}),Object(a.jsx)("p",{style:{textAlign:"center",color:"red",display:j.is_live?"none":"block"},children:"This event has been cancelled"}),Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsxs)("h4",{style:{color:"#457F96"},children:[Object(Y.default)(new Date(j.start_time),"do MMM, HH:MM")," ",Object(a.jsx)(Pe.a,{size:30,color:"brown",style:{marginBottom:"7px"}})," ",Object(Y.default)(new Date(j.end_time),"do MMM, HH:MM")," "]})}),Object(a.jsxs)("div",{id:"participant-container",children:[Object(a.jsxs)("div",{id:"event-participants",className:"row",children:[Object(a.jsx)(G.f,{size:35,color:"#2A9D8F"}),Object(a.jsx)("h6",{style:{textAlign:"center",fontWeight:"bold",marginLeft:"10px",marginTop:"7px"},children:"Participants"})]}),Object(a.jsx)("div",{id:"participant-list",className:"row",children:j.invitees.map((function(e){return Object(a.jsx)("p",{id:"event-invitee",children:g.filter((function(t){return t.user_id===e}))[0].full_name})}))})]}),Object(a.jsxs)("div",{style:{marginTop:"10px",textAlign:"center"},children:[Object(a.jsx)(x.c,{color:"red",size:30,style:{cursor:"pointer",marginRight:"20px",display:j.is_live?null:"none"},onClick:C}),Object(a.jsx)(x.b,{size:40,style:{cursor:"pointer"},color:"#457F96",onClick:r})]})]})})}),qe=function(){var e=Object(c.useContext)(j),t=Object(c.useState)(null),n=Object(d.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(null),l=Object(d.a)(s,2),o=l[0],u=l[1],b=Object(c.useState)([]),O=Object(d.a)(b,2),x=O[0],p=O[1],m=Object(c.useState)(!0),f=Object(d.a)(m,2),g=f[0],v=f[1],y=Object(c.useState)(!1),w=Object(d.a)(y,2),S=w[0],k=w[1],C=Object(c.useState)(!1),N=Object(d.a)(C,2),D=N[0],M=N[1],T=Object(c.useState)(!1),E=Object(d.a)(T,2),F=E[0],R=E[1],L=r||new Date,P=Re(L)(),I=x.filter((function(e){return Object(pe.default)(L,Object(me.a)(e.start_time))})),q=function(e){return Object(fe.default)(new Date,new Date(e))?"#989d9e":"#5999B3"};function z(e){return I.filter((function(t){return Object(Y.default)(e,"dd/MM/yyyy")===Object(Y.default)(new Date(t.start_time),"dd/MM/yyyy")}))}return Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,De.get("/".concat(e)).then((function(e){p(e.data.allEvents.rows),v(!1),k(!1),R(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[S,e,F]),g?Object(a.jsx)("div",{id:"calendar-main",children:Object(a.jsx)("h3",{children:"Fetching Data"})}):Object(a.jsxs)("div",{id:"calendar-main",children:[Object(a.jsx)(Ae,{updateIncoming:function(e){return k(e)}}),Object(a.jsxs)("div",{className:"row",id:"month-toggle",children:[Object(a.jsxs)("select",{className:"form-control",id:"select-view",defaultValue:"Month View",children:[Object(a.jsx)("option",{value:"Day View",children:"Day View"}),Object(a.jsx)("option",{value:"Week View",children:"Week View"}),Object(a.jsx)("option",{value:"Month View",children:"Month View"})]}),Object(a.jsx)(h.d,{size:17,style:{cursor:"pointer",marginRight:"10px"},onClick:function(){i(Object(be.default)(Object(he.default)(L),1))}}),Object(a.jsx)("h5",{id:"month-name",children:Object(Y.default)(L,"MMMM yyyy").toUpperCase()}),Object(a.jsx)(h.h,{size:17,style:{cursor:"pointer",marginLeft:"10px"},onClick:function(){i(Object(Oe.default)(Object(xe.default)(L),1))}})]}),Object(a.jsx)("div",{className:"row",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map((function(e){return Object(a.jsx)("div",{id:"day-of-week",children:e},e)}))}),P.map((function(e,t){return Object(a.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{id:"date",style:{background:Object(Y.default)(new Date,"dd/MM")===Object(Y.default)(e,"dd/MM")?"yellow":Object(pe.default)(e,new Date)?"#FCEDE9":"#E0F7F4"},children:[Object(a.jsx)("p",{id:"date-numeric",children:Object(Y.default)(e,"dd")}),Object(a.jsx)("div",{id:"event-container",children:z(e).map((function(e){return Object(a.jsx)("p",{className:"single-event-container",style:{background:q(e.start_time),textDecoration:e.is_live?null:"line-through"},onClick:function(){var t;t=e.event_id,u(t),M(!0)},children:e.event_title})}))})]},t)})}))},t)})),Object(a.jsx)(Ie,{showModal:D,handleClose:function(){return M(!D)},eventId:o,incoming:function(e){return R(e)}})]})},ze=[{Header:"Id",accessor:"task_id"},{Header:"Task Title",accessor:"task_title",Cell:function(e){return Object(a.jsx)(i.b,{to:"tasks/".concat(e.row.original.task_id),children:e.value})}},{Header:"Description",accessor:"task_description"},{Header:"Project",accessor:"project_title"},{Header:"Assignee",accessor:"full_name"},{Header:"Start Date",accessor:"start_date",Cell:function(e){var t=e.value;return Object(Y.default)(new Date(t),"dd/MM/yyyy")}},{Header:"End Date",accessor:"end_date",Cell:function(e){var t=e.value;return Object(Y.default)(new Date(t),"dd/MM/yyyy")}},{Header:"Status",accessor:"status",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsx)(J,{endDate:e.row.original.end_date,completion:parseInt(e.row.original.completion)})})}},{Header:"Progress",accessor:"completion",Cell:function(e){return Object(a.jsx)("div",{style:{marginLeft:"10px",width:"42px",height:"42px"},children:Object(a.jsx)(ce,{value:e.value})})}}],Be=(n(440),function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.get("/");case 2:t=e.sent,r(t.data.allTasks.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var i=Object(c.useMemo)((function(){return ze}),[]),s=Object(c.useMemo)((function(){return n}),[n]),l=Object(K.useTable)({columns:i,data:s,initialState:{pageSize:5}},K.useGlobalFilter,K.useSortBy,K.usePagination),o=l.getTableProps,j=l.getTableBodyProps,u=l.headerGroups,b=l.page,O=l.nextPage,x=l.previousPage,p=l.canNextPage,m=l.canPreviousPage,f=l.pageOptions,g=l.gotoPage,v=l.pageCount,y=l.setPageSize,w=l.state,S=l.setGlobalFilter,k=l.prepareRow,C=w.globalFilter,N=w.pageIndex,D=w.pageSize;return Object(a.jsxs)("div",{id:"task-table",children:[Object(a.jsx)(X,{filter:C,setFilter:S}),Object(a.jsxs)("p",{id:"page-title",children:["Showing ",D," of ",n.length," tasks ..."]}),Object(a.jsxs)("table",Object(U.a)(Object(U.a)({},o()),{},{className:"table table-hover mt-4",children:[Object(a.jsx)("thead",{children:u.map((function(e){return Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsxs)("th",Object(U.a)(Object(U.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(a.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \u2193":" \u2191":""})]}))}))}))}))}),Object(a.jsx)("tbody",Object(U.a)(Object(U.a)({},j()),{},{children:b.map((function(e){return k(e),Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(U.a)(Object(U.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(a.jsxs)("div",{className:"pagination",children:[Object(a.jsxs)("div",{children:["Page ",N+1," of ",f.length]}),Object(a.jsxs)("span",{style:{marginLeft:"220px"},children:["Go to page:"," ",Object(a.jsx)("input",{type:"number",min:1,max:Math.ceil(n.length/D),defaultValue:N+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;g(t)},style:{width:"50px",marginRight:"2px",marginLeft:"2px",textAlign:"center"}})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-info",onClick:function(){return g(0)},disabled:!m,style:{height:"25px",width:"30px",marginRight:"2px",marginLeft:"2px"},children:"<<"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return x()},disabled:!m,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Prev"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return O()},disabled:!p,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Next"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return g(v-1)},disabled:!p,style:{height:"25px",width:"30px",marginRight:"220px",marginLeft:"2px"},children:">>"}),Object(a.jsx)("select",{value:D,onChange:function(e){return y(Number(e.target.value))},style:{fontSize:"0.9rem"},children:[4,5,10].map((function(e){return Object(a.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]}),Object(a.jsxs)("div",{className:"row status-legend",children:[Object(a.jsx)(h.l,{size:20,color:"#35ad2a"}),Object(a.jsx)("span",{id:"status-legend",children:"Complete"}),Object(a.jsx)(W.a,{size:35,color:"red"}),Object(a.jsx)("span",{id:"status-legend",children:"Almost due"}),Object(a.jsx)(h.c,{size:25,color:"#2a58ad"}),Object(a.jsx)("span",{id:"status-legend",children:"Not due"}),Object(a.jsx)(G.a,{size:25}),Object(a.jsx)("span",{id:"status-legend",children:"Due Today"}),Object(a.jsx)(h.g,{size:20,color:"red"}),Object(a.jsx)("span",{id:"status-legend",children:"Overdue"})]})]})}),He=n(268),Ue=n(288),Ke=n(80),We=n(234),Ge=n(503),Ye=n(67),Je=n(871),Ve=function(e){var t=e.value,n=e.defaultValue,c=e.setValue,r=e.label;return Object(a.jsx)(Ye.a,{utils:Ge.a,children:Object(a.jsx)(Je.a,{value:t,onChange:c,defaultValue:n,autoOk:!0,inputVariant:"outlined",variant:"inline",label:r,format:"dd/MM/yyyy",InputAdornmentProps:{position:"end"}})})},Qe=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/");case 2:t=e.sent,i(t.data.allProjects.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.map((function(e){return Object(a.jsx)("option",{value:e.project_id,children:e.project_title},e.project_id)}))},$e=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/fullNames");case 2:t=e.sent,i(t.data.fullNames.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.map((function(e){return Object(a.jsxs)("option",{value:e.user_id,children:[e.full_name," - ",e.department_name]},e.user_id)}))};function Xe(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n\n  .value {\n    flex: 1;\n    font-size: 1.2rem;\n    margin-left: 20px;\n  }\n\n  .slider {\n    flex: 6;\n    -webkit-appearance: none;\n    width: 280px;\n    height: 12px;\n    border-radius: 10px;\n    background: orange;\n    outline: none;\n\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      ","\n    }\n  }\n"]);return Xe=function(){return e},e}var Ze=b.a.div(Xe(),(function(e){return"\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  outline: 5px solid #294e6e;\n"})),et=function(e){var t=e.value,n=e.onChange;return Object(a.jsxs)(Ze,{children:[Object(a.jsx)("input",{type:"range",min:0,max:100,value:t,className:"slider",onChange:n}),Object(a.jsxs)("div",{className:"value",children:[t,"%"]})]})},tt=function(){var e=Object(H.g)().id,t=Object(c.useState)(),n=Object(d.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(),l=Object(d.a)(s,2)[1],o=Object(c.useState)(),j=Object(d.a)(o,2),u=j[0],b=j[1],h=Object(c.useState)(),O=Object(d.a)(h,2),x=O[0],p=O[1],m=Object(c.useState)(),f=Object(d.a)(m,2)[1],g=Object(c.useState)(),v=Object(d.a)(g,2),y=v[0],w=v[1],S=Object(c.useState)(),k=Object(d.a)(S,2)[1],C=Object(c.useState)(),N=Object(d.a)(C,2),D=N[0],M=N[1],T=Object(c.useState)(),E=Object(d.a)(T,2),F=E[0],R=E[1],L=Object(c.useState)(),P=Object(d.a)(L,2),I=P[0],q=P[1],z=Object(c.useState)(!0),B=Object(d.a)(z,2),U=B[0],K=B[1];Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.get("/".concat(e)).then((function(e){K(!1),b(e.data.rows[0].task_title),p(e.data.rows[0].project_id),l(e.data.rows[0].project_title),i(e.data.rows[0].task_description),w(e.data.rows[0].assignee),f(e.data.rows[0].department_name),k(e.data.rows[0].full_name),M(e.data.rows[0].start_date),R(e.data.rows[0].end_date),q(e.data.rows[0].completion)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var W=Object(We.b)(),G=W.register,Y=W.handleSubmit,J=W.control,V=function(){var e=Object(_.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(t),alert("Task updated successfully !")}catch(n){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("form",{onSubmit:Y(V),children:Object(a.jsxs)("div",{className:"row",id:"task-form-main",children:[Object(a.jsxs)("div",{className:"column task-form",children:[Object(a.jsxs)("div",{className:"form-group mb-4",children:[Object(a.jsx)("label",{children:"Task Title"}),Object(a.jsx)("input",{type:"text",name:"task_title",className:"form-control",minLength:"1",maxLength:"40",value:u,onChange:function(e){return b(e.target.value)},ref:G({required:!0})})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Task Description"}),Object(a.jsx)("textarea",{type:"text",name:"task_description",value:r,className:"form-control",minLength:"1",maxLength:"100",onChange:function(e){return i(e.target.value)},ref:G({required:!0})})]}),Object(a.jsxs)("div",{className:"form-group mb-4",children:[Object(a.jsx)("label",{children:"Parent Project"}),Object(a.jsx)("select",{className:"form-control",name:"parent_project",ref:G({required:!0}),value:x,onChange:function(e){return p(e.target.value)},children:Object(a.jsx)(Qe,{})})]}),Object(a.jsxs)("div",{className:"form-group mb-4",children:[Object(a.jsx)("label",{children:"Assignee"}),Object(a.jsx)("select",{className:"form-control",name:"assignee",ref:G({required:!0}),value:y,onChange:function(e){return w(e.target.value)},children:Object(a.jsx)($e,{})})]})]}),Object(a.jsxs)("div",{className:"column task-form right",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Task Completion"}),U?Object(a.jsx)("p",{children:"Loading....."}):Object(a.jsx)(We.a,{name:"completion",control:J,ref:G,render:function(e){e.value,e.onChange;return Object(a.jsx)(et,{className:"slider",value:I,onChange:function(e){return q(e.target.value)}})}})]}),Object(a.jsx)("div",{id:"start-date single",className:"form-group mt-4 mb-5",children:U?Object(a.jsx)("p",{children:"Loading....."}):Object(a.jsx)(We.a,{name:"start_date",control:J,register:G,render:function(e){e.value,e.onChange,e.defaultValue;return Object(a.jsx)(Ve,{label:"Start Date",value:D,setValue:function(e){return M(e)}})}})}),Object(a.jsx)("div",{className:"form-group mb-4",children:U?Object(a.jsx)("p",{children:"Loading....."}):Object(a.jsx)(We.a,{name:"end_date",control:J,register:G,render:function(e){e.value,e.onChange;return Object(a.jsx)(Ve,{value:F,label:"End Date",setValue:function(e){return R(e)}})}})}),Object(a.jsx)("button",{type:"submit",className:"btn btn-info",id:"update-button",children:"Update"}),Object(a.jsx)("button",{type:"delete",className:"btn btn-warning",id:"abort-button",children:"Abort"}),Object(a.jsx)("button",{type:"delete",className:"btn btn-danger",id:"delete-button",children:"Delete"})]})]})})},nt=function(){var e=Object(H.g)().id,t=Object(c.useState)(),n=Object(d.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(),l=Object(d.a)(s,2)[1];return Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.get("/".concat(e));case 2:n=t.sent,i(n.data.rows[0].task_title),l(n.data.rows[0].task_id);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(a.jsxs)("div",{style:{marginRight:"50px"},children:[Object(a.jsxs)("h5",{style:{textAlign:"center",marginTop:"10px",fontWeight:"bold"},children:["Task : ",r]}),Object(a.jsx)("div",{children:Object(a.jsx)(He.a.Embed,{websiteId:3233,id:"localhost:3000/tasks/".concat(e)})})]})},at=function(){var e=Object(H.g)().id,t=Object(a.jsx)(He.a.CommentCount,{websiteId:3233,id:"localhost:3000/tasks/".concat(e)});return Object(a.jsx)("div",{style:{marginTop:"100px",marginRight:"30px",marginLeft:"280px"},children:Object(a.jsxs)(Ue.a,{defaultActiveKey:"editing",children:[Object(a.jsx)(Ke.a,{eventKey:"editing",title:"Editing",children:Object(a.jsx)(tt,{})}),Object(a.jsx)(Ke.a,{eventKey:"comments",title:t,children:Object(a.jsx)(nt,{})}),Object(a.jsx)(Ke.a,{eventKey:"review",title:"Review",children:Object(a.jsx)("h1",{children:"Hello Tab Three"})})]})})},ct=n(481),rt=n.n(ct),it=n(202),st=function(e){var t=e.buttonText,n=e.handleSubmit,r=e.modalText,i=e.form,s=e.disabled,l=Object(c.useState)(!1),o=Object(d.a)(l,2),j=o[0],u=o[1],b=function(){return u(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ke.a,{variant:"primary",onClick:function(){return u(!0)},disabled:s,children:t}),Object(a.jsxs)(it.a,{show:j,onHide:b,children:[Object(a.jsx)(it.a.Header,{closeButton:!0,children:Object(a.jsx)(it.a.Title,{children:"Confirmation"})}),Object(a.jsx)(it.a.Body,{children:r}),Object(a.jsxs)(it.a.Footer,{children:[Object(a.jsx)(ke.a,{variant:"secondary",onClick:b,children:"Cancel"}),Object(a.jsx)(ke.a,{variant:"primary",type:"submit",onClick:function(){n(),b()},form:i,children:"Save Changes"})]})]})]})},lt=function(){var e=Object(o.b)().user,t=Object(c.useState)([]),n=Object(d.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(),l=Object(d.a)(s,2),j=l[0],u=l[1],b=Object(c.useState)(),h=Object(d.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(),m=Object(d.a)(p,2),f=m[0],g=m[1],v=Object(c.useState)(),y=Object(d.a)(v,2),w=y[0],S=y[1],k=Object(c.useState)(!0),C=Object(d.a)(k,2),N=C[0],D=C[1],M=Object(c.useState)(),T=Object(d.a)(M,2),E=T[0],F=T[1],L=Object(c.useState)(null),P=Object(d.a)(L,2),I=P[0],q=P[1],z=Object(c.useState)({startDate:null,endDate:null}),B=Object(d.a)(z,2),U=B[0],K=B[1],W=Object(c.useState)(),G=Object(d.a)(W,2),Y=G[0],J=G[1],V=U.startDate,Q=U.endDate,X=f&&O&&j&&("Numeric"===E&&I||"Percentage"===E&&I||"Date"===E||"Not Applicable"===E)&&V&&Q,Z=Object(H.f)(),te=Object(c.useState)([]),ne=Object(d.a)(te,2),ae=ne[0],ce=ne[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/");case 2:t=e.sent,ce(t.data.allProjects.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var re=Object(c.useState)([]),se=Object(d.a)(re,2),le=se[0],oe=se[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/fullNames");case 2:t=e.sent,oe(t.data.fullNames.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/userId/".concat(e.email));case 2:n=t.sent,i(n.data.userId.rows[0]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.email]);var je=function(){var e=Object(_.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,ie.post("/",{task_title:O,task_description:j,project_id:parseInt(f),created_by:r.user_id,assignee:parseInt(w),start_date:V,end_date:Q,completion:0,is_public:N,measure_type:E,target:parseInt(I)});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:Z.push("/tasks"),alert("Task Created Successfully");case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{style:{marginTop:"80px",justifyContent:"center",display:"flex",marginLeft:"100px"},children:Object(a.jsxs)(ge.a,{onSubmit:je,id:"task-submit-form",children:[Object(a.jsx)("h5",{style:{marginBottom:"30px",fontWeight:"bold",textAlign:"center"},children:"Create new Task"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"column",children:[Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Parent Project"}),Object(a.jsxs)(we.a,{name:"project_id",required:!0,as:"select",value:f,onChange:function(e){return g(e.target.value)},className:"col-md-10",children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{disabled:!0,children:"Select project or create independent task"}),Object(a.jsx)("option",{children:"Independent Task"}),Object(a.jsx)("option",{disabled:!0,children:"-------Projects-------"}),ae.map((function(e){return Object(a.jsx)("option",{value:e.project_id,children:e.project_title},e.project_id)}))]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Task Title"}),Object(a.jsx)(we.a,{name:"task_title",required:!0,type:"text",value:O,rows:2,minLength:1,maxLength:40,onChange:function(e){return x(e.target.value)},placeholder:"Maximum 40 characters",className:"col-md-10"})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Task Description"}),Object(a.jsx)(we.a,{name:"task_description",required:!0,as:"textarea",value:j,rows:4,minLength:1,maxLength:100,onChange:function(e){return u(e.target.value)},placeholder:"Maximum 100 characters",className:"col-md-10"})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Assignee"}),Object(a.jsxs)(we.a,{name:"assignee",required:!0,as:"select",value:w,onChange:function(e){return S(e.target.value)},className:"col-md-10",children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{disabled:!0,children:"Assign to self or colleagues"}),Object(a.jsx)("option",{children:"Self"}),Object(a.jsx)("option",{disabled:!0,children:"--------Assigneess--------"}),le.map((function(e){return Object(a.jsxs)("option",{value:e.user_id,children:[e.full_name," - ",e.department_name]},e.user_id)}))]})]})]}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Measure Type"}),Object(a.jsxs)(we.a,{as:"select",name:"measure_type",value:E,onChange:function(e){F(e.target.value),q("")},required:!0,className:"col-md-10",children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{children:"Numeric"}),Object(a.jsx)("option",{children:"Percentage"}),Object(a.jsx)("option",{children:"Date"}),Object(a.jsx)("option",{children:"Not Applicable"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Target"}),Object(a.jsxs)("div",{className:"row",style:{marginLeft:"0px"},children:[Object(a.jsx)(we.a,{type:"number",name:"target",required:"Numeric"===E||"Percentage"===E,value:I,className:"col-md-4",onChange:function(e){return q(e.target.value)},disabled:"Date"===E||"Not Applicable"===E,style:{textAlign:"center"}}),Object(a.jsx)("div",{className:"input-group-append",style:{display:"Percentage"===E?"block":"none"},children:Object(a.jsx)("p",{className:"input-group-text",children:"%"})})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{style:{marginRight:"20px",display:"flex"},children:"Timeline"}),Object(a.jsx)(ee.DateRangePicker,{startDate:V,startDateId:"start_date",endDate:Q,endDateId:"end_date",onDatesChange:function(e){return K(e)},focusedInput:Y,onFocusChange:function(e){return J(e)},displayFormat:function(){return"DD/MM/YYYY"},openDirection:"down",required:!0})]}),Object(a.jsx)(Se.a,{style:{marginTop:"30px"},children:Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsx)(ye.a,{style:{marginLeft:"5px",marginRight:"30px",marginTop:"15px",clear:"right"},children:Object(a.jsx)("span",{style:{display:"flex"},children:"Visibility"})}),Object(a.jsxs)("div",{className:"row",style:{borderStyle:"solid",borderWidth:"1px",borderRadius:"5px",borderColor:"#dedcdc",height:"50px",width:"250px",justifyContent:"center",paddingTop:"10px",position:"relative"},children:[Object(a.jsx)("span",{style:{marginRight:"10px",paddingTop:"3px"},children:"Private"}),Object(a.jsx)(rt.a,{checked:N,onChange:function(){D(!N)},onColor:"#FFA500",checkedIcon:!1,uncheckedIcon:!1}),Object(a.jsx)("span",{style:{marginLeft:"10px",paddingTop:"3px"},children:"Public (default)"})]})]})})]})]}),Object(a.jsx)("div",{style:{textAlign:"center",marginTop:"40px"},children:Object(a.jsx)(st,{buttonText:"Create Task",modalText:"Are you sure you want to create this Task?",handleSubmit:je,form:"task-submit-form",disabled:!X})})]})})},ot=n(878),jt=n(864),dt=n(868),ut=n(140),bt=n(141),ht=n(236),Ot=n(233),xt=n(281),pt=[{name:"Jan",Target:4,Actual:3},{name:"Feb",Target:10,Actual:8},{name:"Mar",Target:18,Actual:16},{name:"Apr",Target:27,Actual:25},{name:"May",Target:36,Actual:31},{name:"Jun",Target:44,Actual:37},{name:"Jul",Target:51,Actual:46},{name:"Aug",Target:60,Actual:56},{name:"Sep",Target:70,Actual:61},{name:"Oct",Target:79,Actual:69},{name:"Nov",Target:89,Actual:72},{name:"Dec",Target:100,Actual:80}],mt={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},ft=(n(136),function(){return Object(a.jsxs)("div",{className:"column col-md-6",id:"all-goals",children:[Object(a.jsx)("p",{id:"dash-chart-title",children:"All Goals"}),Object(a.jsx)(ot.a,{width:"100%",height:250,children:Object(a.jsxs)(jt.a,{data:pt,title:"All Goals",children:[Object(a.jsx)(dt.a,{stroke:"lightgrey",strokeDasharray:"2 2"}),Object(a.jsx)(ut.a,{dataKey:"name",tickLine:!1}),Object(a.jsx)(bt.a,{unit:"%",tickLine:!1}),Object(a.jsx)(ht.a,{contentStyle:mt}),Object(a.jsx)(Ot.a,{verticalAlign:"bottom",iconType:"circle",wrapperStyle:{paddingTop:"10px",paddingLeft:"20px"}}),Object(a.jsx)(xt.a,{type:"natural",dataKey:"Target",stroke:"orange"}),Object(a.jsx)(xt.a,{type:"natural",dataKey:"Actual",stroke:"teal"})]})})]})}),gt=n(877),vt=n(283),yt=n(193),wt=[{name:"Operations",Target:100,Actual:84},{name:"Sales",Target:100,Actual:92},{name:"Marketing",Target:100,Actual:81},{name:"Engineering",Target:100,Actual:70},{name:"HR",Target:100,Actual:88},{name:"Legal",Target:100,Actual:74},{name:"Finance",Target:100,Actual:78},{name:"IT",Target:100,Actual:73}],St=["#3066BE","#20A39E","#61D095","#FFBA49","#EF5B5B","#A4036F","#5CADDB","#F2928D"],kt=function(e){var t=e.x,n=e.y,c=e.value;return Object(a.jsx)("text",{x:t,y:n,dx:10,dy:30,textAnchor:"",fill:"white",children:c})},Ct=function(){return Object(a.jsxs)("div",{className:"column col-md-6",id:"dep-goal-comp",children:[Object(a.jsx)("p",{id:"dash-chart-title",children:"Department Wise Goal Completion"}),Object(a.jsx)(ot.a,{width:"100%",height:250,children:Object(a.jsxs)(gt.a,{data:wt,title:"All Goals",children:[Object(a.jsx)(dt.a,{vertical:!1}),Object(a.jsx)(ht.a,{contentStyle:mt}),Object(a.jsx)(ut.a,{dataKey:"name",tickLine:!1}),Object(a.jsx)(bt.a,{unit:"%",tickLine:!1}),Object(a.jsx)(xt.a,{type:"natural",dataKey:"Target",stroke:"brown"}),Object(a.jsx)(vt.a,{dataKey:"Actual",label:kt,children:wt.map((function(e,t){return Object(a.jsx)(yt.a,{fill:St[t%St.length]},"cell-".concat(t))}))})]})})]})},Nt=n(869),Dt=n(282),At=[{name:"Jan",Target:13,Actual:12},{name:"Feb",Target:26,Actual:32},{name:"Mar",Target:53,Actual:56},{name:"Apr",Target:79,Actual:79},{name:"May",Target:91,Actual:90},{name:"Jun",Target:102,Actual:104},{name:"Jul",Target:123,Actual:116},{name:"Aug",Target:134,Actual:130},{name:"Sep",Target:145,Actual:140},{name:"Oct",Target:170,Actual:150},{name:"Nov",Target:189,Actual:164},{name:"Dec",Target:200,Actual:176}],_t=function(){return Object(a.jsxs)("div",{className:"column col-md-6",id:"revenue",children:[Object(a.jsx)("p",{id:"dash-chart-title",children:"Revenue"}),Object(a.jsx)(ot.a,{width:"100%",height:250,children:Object(a.jsxs)(Nt.a,{data:At,title:"All Goals",children:[Object(a.jsx)(dt.a,{stroke:"lightgrey",strokeDasharray:"2 2"}),Object(a.jsx)(ut.a,{dataKey:"name",tickLine:!1}),Object(a.jsx)(bt.a,{unit:"%",tickLine:!1}),Object(a.jsx)(ht.a,{contentStyle:mt}),Object(a.jsx)(Ot.a,{verticalAlign:"bottom",iconType:"circle",wrapperStyle:{paddingTop:"10px",paddingLeft:"20px"}}),Object(a.jsx)(Dt.a,{type:"natural",dataKey:"Target",stroke:"orange",fill:"orange"}),Object(a.jsx)(Dt.a,{type:"natural",dataKey:"Actual",stroke:"teal",fill:"teal"})]})})]})},Mt=[{name:"Jan",Target:12,Actual:12},{name:"Feb",Target:24,Actual:27},{name:"Mar",Target:35,Actual:42},{name:"Apr",Target:45,Actual:56},{name:"May",Target:55,Actual:70},{name:"Jun",Target:70,Actual:80},{name:"Jul",Target:81,Actual:92},{name:"Aug",Target:93,Actual:107},{name:"Sep",Target:104,Actual:119},{name:"Oct",Target:119,Actual:130},{name:"Nov",Target:134,Actual:145},{name:"Dec",Target:148,Actual:158}],Tt=function(){return Object(a.jsxs)("div",{className:"column col-md-6",id:"expenses",children:[Object(a.jsx)("p",{id:"dash-chart-title",children:"Expenses"}),Object(a.jsx)(ot.a,{width:"100%",height:250,children:Object(a.jsxs)(jt.a,{data:Mt,title:"All Goals",children:[Object(a.jsx)(dt.a,{stroke:"lightgrey",strokeDasharray:"2 2"}),Object(a.jsx)(ut.a,{dataKey:"name",tickLine:!1}),Object(a.jsx)(bt.a,{unit:"%",tickLine:!1}),Object(a.jsx)(ht.a,{contentStyle:mt}),Object(a.jsx)(Ot.a,{verticalAlign:"bottom",iconType:"circle",wrapperStyle:{paddingTop:"10px",paddingLeft:"20px"}}),Object(a.jsx)(xt.a,{type:"natural",dataKey:"Target",stroke:"orange"}),Object(a.jsx)(xt.a,{type:"natural",dataKey:"Actual",stroke:"teal",fill:"teal"})]})})]})},Et=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!0),s=Object(d.a)(i,2)[1];return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("https://api.apispreadsheets.com/data/9058/").then((function(e){s(!1),r(e.data.data.slice(0,12))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{className:"column col-md-6",id:"profit",children:[Object(a.jsx)("p",{id:"dash-chart-title",children:"Profit"}),Object(a.jsx)(ot.a,{width:"100%",height:250,children:Object(a.jsxs)(jt.a,{data:n,title:"All Goals",children:[Object(a.jsx)(dt.a,{stroke:"lightgrey",strokeDasharray:"2 2"}),Object(a.jsx)(ut.a,{dataKey:"name",tickLine:!1}),Object(a.jsx)(bt.a,{unit:"",tickLine:!1}),Object(a.jsx)(ht.a,{contentStyle:mt}),Object(a.jsx)(Ot.a,{verticalAlign:"bottom",iconType:"circle",wrapperStyle:{paddingTop:"10px",paddingLeft:"20px"}}),Object(a.jsx)(xt.a,{type:"natural",dataKey:"Target",stroke:"orange"}),Object(a.jsx)(xt.a,{type:"natural",dataKey:"Actual",stroke:"teal",fill:"teal"})]})})]})},Ft=n(876),Rt=n(496),Lt=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("https://api.apispreadsheets.com/data/9418/").then((function(e){r(e.data.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{className:"column col-md-6",id:"debtors",children:[Object(a.jsx)("p",{id:"dash-chart-title",children:"Debtors Ageing"}),Object(a.jsx)(ot.a,{width:"100%",height:250,children:Object(a.jsxs)(Ft.a,{children:[Object(a.jsx)(Rt.a,{data:n,label:!0,innerRadius:40,dataKey:"Amount",children:n.map((function(e,t){return Object(a.jsx)(yt.a,{fill:St[t%St.length]},"cell-".concat(t))}))}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:mt})]})})]})},Pt=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(ft,{}),Object(a.jsx)(Ct,{})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(_t,{}),Object(a.jsx)(Tt,{})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(Et,{}),Object(a.jsx)(Lt,{})]})]})},It=function(){return Object(a.jsx)("div",{id:"dash-main",children:Object(a.jsxs)(Ue.a,{defaultActiveKey:"ceo",children:[Object(a.jsx)(Ke.a,{eventKey:"ceo",title:"CEO",children:Object(a.jsx)(Pt,{})}),Object(a.jsx)(Ke.a,{eventKey:"operations",title:"Operations"}),Object(a.jsx)(Ke.a,{eventKey:"sales",title:"Sales"}),Object(a.jsx)(Ke.a,{eventKey:"marketing",title:"Marketing"}),Object(a.jsx)(Ke.a,{eventKey:"engineering",title:"Engineering"}),Object(a.jsx)(Ke.a,{eventKey:"hr",title:"Human Resources"}),Object(a.jsx)(Ke.a,{eventKey:"legal",title:"Legal"}),Object(a.jsx)(Ke.a,{eventKey:"finance",title:"Finance"}),Object(a.jsx)(Ke.a,{eventKey:"it",title:"IT"})]})})},qt=n(875),zt=n(504),Bt=n(872),Ht=n.p+"static/media/logoTransparent.41d041af.png",Ut=(n(827),function(){return Object(a.jsx)("div",{id:"navbar-main",children:Object(a.jsxs)(qt.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",fixed:"top",children:[Object(a.jsx)("img",{id:"navbar-logo",src:Ht,alt:"Logo"}),Object(a.jsx)(qt.a.Brand,{href:"#home",children:"Tangible"}),Object(a.jsxs)("div",{style:{marginLeft:"100px"},children:[Object(a.jsx)(qt.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsxs)(qt.a.Collapse,{id:"responsive-navbar-nav",children:[Object(a.jsx)(zt.a.Item,{style:{color:"#E76F51",marginRight:"10px"},children:"Quick Links"}),Object(a.jsx)(G.b,{color:"lightgrey",size:30}),Object(a.jsx)(zt.a,{className:"mr-4 ml-4",children:Object(a.jsxs)(Bt.a,{title:"SALES",id:"nav-items",children:[Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/sales/customers",children:"Customers"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/sales/createlead",children:"Create Lead"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/sales/leadsummary",children:"Manage Leads"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/sales/existing",children:"Existing Business"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/sales/target",children:"Target"})}),Object(a.jsx)(Bt.a.Divider,{}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/tasks/create",children:"Create Todo"})})]})}),Object(a.jsx)(zt.a,{className:"mr-4",children:Object(a.jsxs)(Bt.a,{title:"FINANCE",id:"nav-items",children:[Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/finance/receivables",children:"Receivables"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/finance/budgets",children:"Budget"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/finance/fundrequests",children:"Fund Requests"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/finance/requestfunds",children:"New Fund Request"})}),Object(a.jsx)(Bt.a.Divider,{}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/tasks/create",children:"Create Todo"})})]})}),Object(a.jsx)(zt.a,{className:"mr-4",children:Object(a.jsxs)(Bt.a,{title:"MARKETING",id:"nav-items",children:[Object(a.jsx)(Bt.a.Item,{href:"",children:"Record Collection"}),Object(a.jsx)(Bt.a.Item,{href:"",children:"Hello Mister"}),Object(a.jsx)(Bt.a.Divider,{}),Object(a.jsx)(Bt.a.Item,{href:"#action/3.4",children:"Separated link"})]})}),Object(a.jsx)(zt.a,{className:"mr-4",children:Object(a.jsxs)(Bt.a,{title:"OPERATIONS",id:"nav-items",children:[Object(a.jsx)(Bt.a.Item,{href:"",children:"Record Collection"}),Object(a.jsx)(Bt.a.Item,{href:"",children:"Hello Mister"}),Object(a.jsx)(Bt.a.Divider,{}),Object(a.jsx)(Bt.a.Item,{href:"#action/3.4",children:"Separated link"})]})}),Object(a.jsx)(zt.a,{className:"mr-4",children:Object(a.jsxs)(Bt.a,{title:"ENGINEERING",id:"nav-items",children:[Object(a.jsx)(Bt.a.Item,{href:"",children:"Record Collection"}),Object(a.jsx)(Bt.a.Item,{href:"",children:"Hello Mister"}),Object(a.jsx)(Bt.a.Divider,{}),Object(a.jsx)(Bt.a.Item,{href:"#action/3.4",children:"Separated link"})]})}),Object(a.jsx)(zt.a,{className:"mr-4",children:Object(a.jsxs)(Bt.a,{title:"HR",id:"nav-items",children:[Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/hr/requisition",children:"Employee Requisition"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/hr/exit",children:"Employee Exit"})}),Object(a.jsx)(Bt.a.Item,{children:Object(a.jsx)(i.b,{id:"link",to:"/hr/grievance",children:"Employee Grievance"})}),Object(a.jsx)(Bt.a.Item,{href:"/hr/onboarding",children:"Employee Onboarding"}),Object(a.jsx)(Bt.a.Divider,{}),Object(a.jsx)(Bt.a.Item,{href:"/tasks/create",children:"Create Todo"})]})}),Object(a.jsx)(zt.a,{className:"mr-4",children:Object(a.jsxs)(Bt.a,{title:"ADMIN",id:"nav-items",children:[Object(a.jsx)(Bt.a.Item,{href:""}),Object(a.jsx)(Bt.a.Item,{href:"",children:"Hello Mister"}),Object(a.jsx)(Bt.a.Divider,{}),Object(a.jsx)(Bt.a.Item,{href:"#action/3.4",children:"Create Todo"})]})}),Object(a.jsx)(zt.a,{className:"mr-4",children:Object(a.jsxs)(Bt.a,{title:"IT",id:"nav-items",children:[Object(a.jsx)(Bt.a.Item,{href:"",children:"Record Collection"}),Object(a.jsx)(Bt.a.Item,{href:"",children:"Hello Mister"}),Object(a.jsx)(Bt.a.Divider,{}),Object(a.jsx)(Bt.a.Item,{href:"#action/3.4",children:"Separated link"})]})})]})]})]})})}),Kt=n(870),Wt=[{userId:2,data:[{name:"Completed",value:5,fill:"#35ad2a"},{name:"Not Due",value:7,fill:"blue"},{name:"Almost Due",value:5,fill:"orange"},{name:"Due Today",value:2,fill:"grey"},{name:"Overdue",value:4,fill:"red"},{name:"Aborted",value:2,fill:"magenta"}]},{userId:4,data:[{name:"Completed",value:2,fill:"#35ad2a"},{name:"Not Due",value:6,fill:"blue"},{name:"Almost Due",value:3,fill:"orange"},{name:"Due Today",value:5,fill:"grey"},{name:"Overdue",value:8,fill:"red"},{name:"Aborted",value:1,fill:"magenta"}]},{userId:7,data:[{name:"Completed",value:1,fill:"#35ad2a"},{name:"Not Due",value:2,fill:"blue"},{name:"Almost Due",value:3,fill:"orange"},{name:"Due Today",value:4,fill:"grey"},{name:"Overdue",value:5,fill:"red"},{name:"Aborted",value:6,fill:"magenta"}]},{userId:8,data:[{name:"Completed",value:6,fill:"#35ad2a"},{name:"Not Due",value:5,fill:"blue"},{name:"Almost Due",value:4,fill:"orange"},{name:"Due Today",value:3,fill:"grey"},{name:"Overdue",value:2,fill:"red"},{name:"Aborted",value:1,fill:"magenta"}]},{userId:9,data:[{name:"Completed",value:3,fill:"#35ad2a"},{name:"Not Due",value:5,fill:"blue"},{name:"Almost Due",value:7,fill:"orange"},{name:"Due Today",value:7,fill:"grey"},{name:"Overdue",value:5,fill:"red"},{name:"Aborted",value:3,fill:"magenta"}]},{userId:10,data:[{name:"Completed",value:9,fill:"#35ad2a"},{name:"Not Due",value:7,fill:"blue"},{name:"Almost Due",value:5,fill:"orange"},{name:"Due Today",value:5,fill:"grey"},{name:"Overdue",value:7,fill:"red"},{name:"Aborted",value:9,fill:"magenta"}]},{userId:11,data:[{name:"Completed",value:6,fill:"#35ad2a"},{name:"Not Due",value:6,fill:"blue"},{name:"Almost Due",value:6,fill:"orange"},{name:"Due Today",value:2,fill:"grey"},{name:"Overdue",value:4,fill:"red"},{name:"Aborted",value:8,fill:"magenta"}]},{userId:12,data:[{name:"Completed",value:1,fill:"#35ad2a"},{name:"Not Due",value:2,fill:"blue"},{name:"Almost Due",value:3,fill:"orange"},{name:"Due Today",value:1,fill:"grey"},{name:"Overdue",value:2,fill:"red"},{name:"Aborted",value:3,fill:"magenta"}]}],Gt=function(e){var t=e.user_id,n=Wt.findIndex((function(e){return e.userId===t}));return console.log(n),n>=0?Object(a.jsxs)(Kt.a,{width:150,height:120,data:Wt[n].data,children:[Object(a.jsx)(ut.a,{dataKey:"name",tick:{display:"none"}}),Object(a.jsx)(ht.a,{}),Object(a.jsx)(vt.a,{dataKey:"value",fill:"fill"})]}):Object(a.jsx)("div",{children:"No data available"})},Yt=(n(473),new M.AvatarGenerator),Jt=[{Header:"",accessor:"user_id",Cell:function(e){return Object(a.jsx)("div",{id:"avatar-container",children:Object(a.jsx)("img",{src:Yt.generateRandomAvatar(e.value)||"/images/".concat(e.value,".png"),alt:"profile pic",id:"avatar"})})}},{Header:"Name",accessor:"team_member",Cell:function(e){return Object(a.jsx)(i.b,{to:"/users/".concat(e.row.original.user_id),children:Object(a.jsx)("div",{id:"username",children:e.value})})}},{Header:"Message || Review",accessor:"",Cell:Object(a.jsxs)("div",{id:"action-button-group",children:[Object(a.jsx)(G.c,{size:30,color:"grey",id:"action-button"}),Object(a.jsx)(G.g,{size:35,color:"grey",id:"action-button"})]})},{Header:"Task Status",accessor:"",Cell:function(e){return Object(a.jsx)("div",{id:"task-charts",children:Object(a.jsx)(Gt,{user_id:e.row.original.user_id})})}},{Header:"Health",accessor:""}],Vt=function(){var e=Object(c.useMemo)((function(){return Jt}),[]),t=Object(o.b)().user,n=Object(c.useState)([]),r=Object(d.a)(n,2),i=r[0],s=r[1],l=Object(c.useMemo)((function(){return i}),[i]);Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/teamMembers/".concat(t.email)).then((function(e){s(e.data.teamMembers.rows)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.email]);var j=Object(K.useTable)({columns:e,data:l,initialState:{pageSize:100}},K.useGlobalFilter,K.useSortBy,K.usePagination),u=j.getTableProps,b=j.getTableBodyProps,h=j.headerGroups,O=j.page,x=j.prepareRow;return Object(a.jsxs)("div",{id:"my-team",children:[Object(a.jsx)("p",{id:"team-page-title",children:"My Team"}),Object(a.jsxs)("table",Object(U.a)(Object(U.a)({},u()),{},{className:"table table-hover",id:"team-table",children:[Object(a.jsx)("thead",{children:h.map((function(e){return Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsxs)("th",Object(U.a)(Object(U.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(a.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \u2193":" \u2191":""})]}))}))}))}))}),Object(a.jsx)("tbody",Object(U.a)(Object(U.a)({},b()),{},{children:O.map((function(e){return x(e),Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(U.a)(Object(U.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})},Qt=(n(215),function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),s=Object(d.a)(i,2),l=s[0],o=s[1],j=Object(c.useState)(),u=Object(d.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)(),x=Object(d.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)(),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(),S=Object(d.a)(w,2),k=S[0],C=S[1],N=Object(c.useState)(),D=Object(d.a)(N,2),A=D[0],_=D[1],M=Object(c.useState)(),T=Object(d.a)(M,2),E=T[0],F=T[1],R=Object(c.useState)(),L=Object(d.a)(R,2),P=L[0],I=L[1];return Object(a.jsx)("div",{id:"emp-req",children:Object(a.jsxs)(Le.a,{style:{width:"800px",padding:"20px 0px 20px 65px"},elevation:"5",children:[Object(a.jsx)("h4",{className:"mb-4",id:"emp-req-title",children:"Employee Requisition"}),Object(a.jsxs)(ge.a,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"column col-md-5 mr-5",children:[Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Hiring Type"}),Object(a.jsxs)(we.a,{as:"select",value:"hireType",onChange:function(e){return r(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{children:"New"}),Object(a.jsx)("option",{children:"Replacement"}),Object(a.jsx)("option",{children:"Temp"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Department"}),Object(a.jsxs)(we.a,{as:"select",value:l,onChange:function(e){return o(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{children:"HR"}),Object(a.jsx)("option",{children:"Admin"}),Object(a.jsx)("option",{children:"Sales"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Designation"}),Object(a.jsxs)(we.a,{as:"select",value:b,onChange:function(e){return h(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{children:"General Manager"}),Object(a.jsx)("option",{children:"Asst Vice President"}),Object(a.jsx)("option",{children:"Senior Consultant"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Tenure in months (for Temps only)"}),Object(a.jsx)(we.a,{type:"number",min:"0",disabled:"Temp"!==n,value:p,onChange:function(e){return m(e.target.value)},required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Assign To"}),Object(a.jsx)(we.a,{as:"select",value:A,onChange:function(e){return _(e.target.value)},required:!0})]})]}),Object(a.jsxs)("div",{className:"column col-md-5",children:[Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Desired Joining Date"}),Object(a.jsx)("br",{}),Object(a.jsx)(ee.SingleDatePicker,{id:"join_date",date:v,onDateChange:function(e){return y(e)},focused:P,onFocusChange:function(e){var t=e.focused;return I(t)},displayFormat:function(){return"DD/MM/YYYY"},numberOfMonths:1,appendToBody:!0,required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Expected Salary per Month"}),Object(a.jsx)(we.a,{type:"number",min:"0",value:k,onChange:function(e){return C(e.target.value)},required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Remarks (Optional)"}),Object(a.jsx)(we.a,{as:"textarea",value:E,onChange:function(e){return F(e.target.value)},rows:4,maxLength:200,placeHolder:"max 200 characters"})]})]})]}),Object(a.jsx)("div",{id:"submit-emp-req",children:Object(a.jsx)(ke.a,{type:"submit",children:"Submit"})})]})]})})}),$t=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),s=Object(d.a)(i,2),l=s[0],o=s[1],j=Object(c.useState)([]),u=Object(d.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)([]),x=Object(d.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)(),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(),S=Object(d.a)(w,2),k=S[0],C=S[1],N=Object(c.useState)(),D=Object(d.a)(N,2),A=D[0],_=D[1],M=Object(c.useState)(),T=Object(d.a)(M,2),E=T[0],F=T[1],R=Object(c.useState)(),L=Object(d.a)(R,2),P=L[0],I=L[1],q=Object(c.useState)(),z=Object(d.a)(q,2),B=z[0],H=z[1],U=Object(c.useState)(),K=Object(d.a)(U,2),W=K[0],G=K[1],Y=Object(c.useState)(),J=Object(d.a)(Y,2),V=J[0],Q=J[1],$=Object(c.useState)(),X=Object(d.a)($,2),Z=X[0],te=X[1];return Object(a.jsx)("div",{id:"emp-exit",children:Object(a.jsxs)(Le.a,{style:{width:"800px",padding:"20px 0px 20px 65px"},elevation:5,children:[Object(a.jsx)("h4",{className:"mb-4",id:"emp-req-title",children:"Employee Exit"}),Object(a.jsxs)(ge.a,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"column col-md-5 mr-5",children:[Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Employee"}),Object(a.jsx)(we.a,{as:"select",value:n,onChange:function(e){return r(e.target.value)},required:!0,children:Object(a.jsx)("option",{})})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Intimation Received On"}),Object(a.jsx)("br",{}),Object(a.jsx)(ee.SingleDatePicker,{id:"received_date",date:A,onDateChange:function(e){return _(e)},focused:Z,onFocusChange:function(e){var t=e.focused;return te(t)},displayFormat:function(){return"DD/MM/YYYY"},numberOfMonths:1,appendToBody:!0,required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Exit Type"}),Object(a.jsxs)(we.a,{as:"select",value:l,onChange:function(e){return o(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{children:"Resignation"}),Object(a.jsx)("option",{children:"Termination"}),Object(a.jsx)("option",{children:"Contract Ended"}),Object(a.jsx)("option",{children:"Superannuation"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Reason for Resignation"}),Object(a.jsxs)(we.a,{as:"select",value:b,onChange:function(e){return h(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{children:"Better Role"}),Object(a.jsx)("option",{children:"Better Salary"}),Object(a.jsx)("option",{children:"Manager Issues"}),Object(a.jsx)("option",{children:"Long Working Hours"}),Object(a.jsx)("option",{children:"Cultural Issues"}),Object(a.jsx)("option",{children:"Lack of Motivation"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Reason for Termination"}),Object(a.jsxs)(we.a,{as:"select",value:p,onChange:function(e){return m(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{children:"Performance"}),Object(a.jsx)("option",{children:"Disciplinary"}),Object(a.jsx)("option",{children:"Redundancy"})]})]})]}),Object(a.jsxs)("div",{className:"column col-md-5",children:[Object(a.jsxs)(Se.a,{style:{float:"left"},children:[Object(a.jsx)(ye.a,{children:"Requested Exit Date"}),Object(a.jsx)("br",{}),Object(a.jsx)(ee.SingleDatePicker,{id:"req_rel_date",date:v,onDateChange:function(e){return y(e)},focused:W,onFocusChange:function(e){var t=e.focused;return G(t)},displayFormat:function(){return"DD/MM/YYYY"},numberOfMonths:1,appendToBody:!0,required:!0})]}),Object(a.jsxs)(Se.a,{style:{float:"right"},children:[Object(a.jsx)(ye.a,{children:"Proposed Exit Date"}),Object(a.jsx)("br",{}),Object(a.jsx)(ee.SingleDatePicker,{id:"prop_rel_date",date:k,onDateChange:function(e){return C(e)},focused:V,onFocusChange:function(e){var t=e.focused;return Q(t)},displayFormat:function(){return"DD/MM/YYYY"},numberOfMonths:1,appendToBody:!0,required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Manager Recommendation"}),Object(a.jsxs)(we.a,{as:"select",value:E,onChange:function(e){return F(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{children:"Let Go"}),Object(a.jsx)("option",{children:"Try to Retain"}),Object(a.jsx)("option",{children:"Must Retain"}),Object(a.jsx)("option",{children:"Place on PIP"}),Object(a.jsx)("option",{children:"Not Sure"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Remarks (Optional)"}),Object(a.jsx)(we.a,{as:"textarea",value:B,onChange:function(e){return H(e.target.value)},rows:4,maxLength:200,placeHolder:"max 200 characters"})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Assign To"}),Object(a.jsx)(we.a,{as:"select",value:P,onChange:function(e){return I(e.target.value)},required:!0})]})]})]}),Object(a.jsx)("div",{id:"submit-emp-req",children:Object(a.jsx)(ke.a,{type:"submit",children:"Submit"})})]})]})})},Xt=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(d.a)(i,2),l=s[0],o=s[1],j=Object(c.useState)(),u=Object(d.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)(),x=Object(d.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)(),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(),S=Object(d.a)(w,2),k=S[0],C=S[1];return Object(a.jsx)("div",{id:"emp-grievance",children:Object(a.jsxs)(Le.a,{style:{width:"400px",padding:"20px 30px"},elevation:"5",children:[Object(a.jsx)("h4",{className:"mb-4",id:"emp-req-title",children:"Employee Grievance"}),Object(a.jsxs)(ge.a,{children:[Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Employee"}),Object(a.jsx)(we.a,{as:"select",value:n,onChange:function(e){return r(e.target.value)},required:!0,children:Object(a.jsx)("option",{})})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Intimation Received On"}),Object(a.jsx)("br",{}),Object(a.jsx)(ee.SingleDatePicker,{id:"received_date",date:b,onDateChange:function(e){return h(e)},focused:k,onFocusChange:function(e){var t=e.focused;return C(t)},displayFormat:function(){return"DD/MM/YYYY"},numberOfMonths:1,appendToBody:!0,required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Grievance Type"}),Object(a.jsxs)(we.a,{as:"select",value:l,onChange:function(e){return o(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{children:"Salary"}),Object(a.jsx)("option",{children:"Role"}),Object(a.jsx)("option",{children:"Working Hours"}),Object(a.jsx)("option",{children:"Cultural Issues"}),Object(a.jsx)("option",{children:"Manager"}),Object(a.jsx)("option",{children:"Misconduct"})]})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Remarks"}),Object(a.jsx)(we.a,{as:"textarea",value:v,onChange:function(e){return y(e.target.value)},rows:4,maxLength:200,placeHolder:"max 200 characters",required:!0})]}),Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{children:"Assign To"}),Object(a.jsx)(we.a,{as:"select",value:p,onChange:function(e){return m(e.target.value)},required:!0})]}),Object(a.jsx)("div",{id:"submit-emp-req",children:Object(a.jsx)(ke.a,{type:"submit",children:"Submit"})})]})]})})},Zt=function(){return Object(a.jsx)("div",{id:"emp-onboarding",children:Object(a.jsx)("h1",{children:"Employee Onboarding"})})},en=function(){var e=Object(H.h)().path;return Object(a.jsxs)(H.c,{children:[Object(a.jsx)(H.a,{path:e+"exit",exact:!0,component:$t}),Object(a.jsx)(H.a,{path:e+"requisition",exact:!0,component:Qt}),Object(a.jsx)(H.a,{path:e+"grievance",exact:!0,component:Xt}),Object(a.jsx)(H.a,{path:e+"onboarding",exact:!0,component:Zt})]})},tn=(n(157),n(284)),nn=n(200),an=[{name:"JAN"},{name:"FEB"},{name:"MAR"},{name:"APR"},{name:"MAY"},{name:"JUN"},{name:"JUL"},{name:"AUG"},{name:"SEP"},{name:"OCT"},{name:"NOV"},{name:"DEC"}],cn=[{name:"Q1"},{name:"Q2"},{name:"Q3"},{name:"Q4"}],rn=[{Header:"ID",accessor:"request_id"},{Header:"Description",accessor:"description"},{Header:"Budgeted",accessor:"budgeted",Cell:function(e){return!0===e.value?Object(a.jsx)("div",{style:{textAlign:"center",padding:"0px"},children:Object(a.jsx)(nn.a,{color:"green"})}):Object(a.jsx)("div",{style:{textAlign:"center",padding:"0px"},children:Object(a.jsx)(nn.b,{color:"red"})})}},{Header:"Request Date",accessor:"created_at",Cell:function(e){var t=e.value;return Object(Y.default)(new Date(t),"dd/MM/yyyy")}},{Header:"Project / Task",accessor:"",Cell:function(e){return e.row.original.project_title?e.row.original.project_title:e.row.original.task_title?e.row.original.task_title:Object(a.jsx)("p",{style:{color:"red",fontWeight:"bold",marginBottom:"0px"},children:"Unassigned"})}},{Header:"Initiator",accessor:"full_name"},{Header:"Expense Head",accessor:"expense_head"},{Header:"Amount",accessor:"amount",Cell:function(e){return"Annual"===e.row.original.frequency||"Exact"===e.row.original.frequency?e.value:"Monthly"===e.row.original.frequency?(12-an.findIndex((function(t){return t.name===e.row.original.starting})))*e.value:(4-cn.findIndex((function(t){return t.name===e.row.original.starting})))*e.value}},{Header:"Status",accessor:"status"},{Header:"View",accessor:"",Cell:function(e){return Object(a.jsx)(i.b,{to:"/finance/fundrequests/".concat(e.row.original.request_id),children:Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsx)(G.d,{size:20,color:"#264653"})})})}}],sn=F.a.create({baseURL:"http://localhost:5000/api/finance"}),ln=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),l=Object(d.a)(s,2)[1],o=Object(c.useState)([]),j=Object(d.a)(o,2)[1],u=Object(c.useState)([]),b=Object(d.a)(u,2)[1],h=Object(c.useState)(!0),O=Object(d.a)(h,2)[1],x=Object(c.useMemo)((function(){return rn}),[]),p=Object(c.useMemo)((function(){return n}),[n]),m=Object(K.useTable)({columns:x,data:p,initialState:{pageSize:7}},K.useGlobalFilter,K.useSortBy,K.usePagination),f=m.getTableProps,g=m.getTableBodyProps,v=m.headerGroups,y=m.page,w=m.nextPage,S=m.previousPage,k=m.canNextPage,C=m.canPreviousPage,N=m.pageOptions,D=m.gotoPage,M=m.pageCount,T=m.setPageSize,E=m.state,F=m.setGlobalFilter,R=m.prepareRow,L=E.globalFilter,P=E.pageIndex,I=E.pageSize;return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn.get("/fundRequests").then((function(e){r(e.data.fundRequests.rows),l(e.data.fundRequests.rows.filter((function(e){return"Approved"===e.status}))),j(e.data.fundRequests.rows.filter((function(e){return"Rejected"===e.status}))),b(e.data.fundRequests.rows.filter((function(e){return"Pending L1"===e.status}))),O(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsx)("div",{id:"fund-requests",className:"justify-content-center",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("p",{id:"invoices-counter",style:{marginRight:"120px"},children:["Showing ",Math.min(I,n.length)," of ",n.length," Requests"]}),Object(a.jsxs)(tn.a,{className:"mr-5",style:{alignItems:"center",marginRight:"10px",marginBottom:"0px",height:"32px"},children:[Object(a.jsx)(ke.a,{variant:"outline-secondary",children:"Pending"}),Object(a.jsx)(ke.a,{variant:"outline-secondary",children:"Approved"}),Object(a.jsx)(ke.a,{variant:"outline-secondary",children:"Rejected"}),Object(a.jsx)(ke.a,{active:!0,variant:"outline-secondary",id:"all",children:"All"})]}),Object(a.jsx)(i.b,{to:"/finance/requestfunds",children:Object(a.jsx)(ke.a,{variant:"info",className:"ml-5 mr-5",children:"+ New"})}),Object(a.jsx)("div",{id:"invoices-filter",className:"ml-5",children:Object(a.jsx)(X,{filter:L,setFilter:F})}),Object(a.jsxs)("table",Object(U.a)(Object(U.a)({},f()),{},{className:"table table-hover mt-2",children:[Object(a.jsx)("thead",{children:v.map((function(e){return Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsxs)("th",Object(U.a)(Object(U.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(a.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \u2193":" \u2191":""})]}))}))}))}))}),Object(a.jsx)("tbody",Object(U.a)(Object(U.a)({},g()),{},{children:y.map((function(e){return R(e),Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(U.a)(Object(U.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(a.jsxs)("div",{className:"pagination",children:[Object(a.jsxs)("div",{children:["Page ",P+1," of ",N.length]}),Object(a.jsxs)("span",{style:{marginLeft:"220px"},children:["Go to page:"," ",Object(a.jsx)("input",{type:"number",min:1,max:Math.ceil(n.length/I),defaultValue:P+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;D(t)},style:{width:"50px",marginRight:"2px",marginLeft:"2px",textAlign:"center"}})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-info",onClick:function(){return D(0)},disabled:!C,style:{height:"25px",width:"30px",marginRight:"2px",marginLeft:"2px"},children:"<<"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return S()},disabled:!C,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Prev"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return w()},disabled:!k,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Next"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return D(M-1)},disabled:!k,style:{height:"25px",width:"30px",marginRight:"220px",marginLeft:"2px"},children:">>"}),Object(a.jsx)("select",{value:I,onChange:function(e){return T(Number(e.target.value))},style:{fontSize:"0.9rem"},children:[5,10,15].map((function(e){return Object(a.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})})},on=F.a.create({baseURL:"http://localhost:5000/api/departments"}),jn=function(e){var t=e.department,n=e.onChange,c=e.value;switch(t){case"":return Object(a.jsx)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:Object(a.jsx)("option",{})});case"CEO":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Eat Pizza",children:"Eat Pizza"}),Object(a.jsx)("option",{value:"Drink Beer",children:"Drink Beer"})]});case"Sales":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"CRM",children:"CRM"}),Object(a.jsx)("option",{value:"Conference Attendance",children:"Conference Attendance"}),Object(a.jsx)("option",{value:"Customer Meeting",children:"Customer Meeting"}),Object(a.jsx)("option",{value:"Training",children:"Training"}),Object(a.jsx)("option",{value:"Others",children:"Others"})]});case"Finance":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Audit",children:"Audit"}),Object(a.jsx)("option",{value:"Regulatory",children:"Regulatory"}),Object(a.jsx)("option",{value:"Training",children:"Training"}),Object(a.jsx)("option",{value:"ERP",children:"ERP"}),Object(a.jsx)("option",{value:"Others",children:"Others"})]});case"Marketing":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Collaterals",children:"Collaterals"}),Object(a.jsx)("option",{value:"Conference Attendance",children:"Conference Attendance"}),Object(a.jsx)("option",{value:"Conference Hosting",children:"Conference Hosting"}),Object(a.jsx)("option",{value:"Advertising",children:"Advertising"}),Object(a.jsx)("option",{value:"Agency Fees",children:"Agency Fees"}),Object(a.jsx)("option",{value:"Gifting",children:"Gifting"}),Object(a.jsx)("option",{value:"Training",children:"Training"}),Object(a.jsx)("option",{value:"Others",children:"Others"})]});case"Operations":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Vehicles",children:"Vehicles"}),Object(a.jsx)("option",{value:"Warehouse R&M",children:"Warehouse R&M"}),Object(a.jsx)("option",{value:"Packaging Material",children:"Packaging Material"}),Object(a.jsx)("option",{value:"Storage Infrastructure",children:"Storage Infrastructure"}),Object(a.jsx)("option",{value:"Handheld Equipment",children:"Handheld Equipment"}),Object(a.jsx)("option",{value:"POL Materials",children:"POL Materials"}),Object(a.jsx)("option",{value:"Fuel",children:"Fuel"}),Object(a.jsx)("option",{value:"AMC",children:"AMC"}),Object(a.jsx)("option",{value:"Audit",children:"Audit"}),Object(a.jsx)("option",{value:"Training",children:"Training"}),Object(a.jsx)("option",{value:"Others",children:"Others"})]});case"Engineering":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Plant R&M",children:"Plant R&M"}),Object(a.jsx)("option",{value:"Fuel",children:"Fuel"}),Object(a.jsx)("option",{value:"Raw Material",children:"Raw Material"}),Object(a.jsx)("option",{value:"POL Material",children:"POL Materials"}),Object(a.jsx)("option",{value:"Fixed Equipment",children:"Fixed Equipment"}),Object(a.jsx)("option",{value:"Loose Equipment",children:"Loose Equipment"}),Object(a.jsx)("option",{value:"Vehicles",children:"Vehicles"}),Object(a.jsx)("option",{value:"AMC",children:"AMC"}),Object(a.jsx)("option",{value:"Audit",children:"Audit"}),Object(a.jsx)("option",{value:"Training",children:"Training"}),Object(a.jsx)("option",{value:"Others",children:"Others"})]});case"Human Resources":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"HRMS",children:"HRMS"}),Object(a.jsx)("option",{value:"Welfare",children:"Welfare"}),Object(a.jsx)("option",{value:"Training",children:"Training"}),Object(a.jsx)("option",{value:"Audit",children:"Audit"}),Object(a.jsx)("option",{value:"Others",children:"Others"})]});case"Administration":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Rent",children:"Rent"}),Object(a.jsx)("option",{value:"Electricity",children:"Electricity"}),Object(a.jsx)("option",{value:"Water",children:"Water"}),Object(a.jsx)("option",{value:"Housekeeping",children:"Housekeeping"}),Object(a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),Object(a.jsx)("option",{value:"Fuel",children:"Fuel"}),Object(a.jsx)("option",{value:"Landline",children:"Landline"}),Object(a.jsx)("option",{value:"Mobile",children:"Mobile"}),Object(a.jsx)("option",{value:"Wifi Dongles",children:"Wifi Dongles"}),Object(a.jsx)("option",{value:"Stationery",children:"Stationery"}),Object(a.jsx)("option",{value:"Courier",children:"Courier"}),Object(a.jsx)("option",{value:"Regulatory",children:"Regulatory"}),Object(a.jsx)("option",{value:"Training",children:"Training"}),Object(a.jsx)("option",{value:"Others",children:"Others"})]});case"IT":return Object(a.jsxs)("select",{className:"form-control",id:"expense-head",onChange:n,value:c,required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Broadband",children:"Broadband"}),Object(a.jsx)("option",{value:"Cloud",children:"Cloud"}),Object(a.jsx)("option",{value:"Web Hosting",children:"Web Hosting"}),Object(a.jsx)("option",{value:"Applications",children:"Applications"}),Object(a.jsx)("option",{value:"IT Assets",children:"IT Assets"}),Object(a.jsx)("option",{value:"AMC",children:"AMC"}),Object(a.jsx)("option",{value:"Training",children:"Training"}),Object(a.jsx)("option",{value:"Others",children:"Others"})]});default:return null}},dn=function(){var e=Object(o.b)().user,t=Object(H.f)(),n=Object(c.useState)([]),r=Object(d.a)(n,2),i=r[0],s=r[1],l=Object(c.useState)([]),j=Object(d.a)(l,2),u=j[0],b=j[1],h=Object(c.useState)(),O=Object(d.a)(h,2),x=O[0],p=O[1],f=Object(c.useState)([]),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(),S=Object(d.a)(w,2),k=S[0],C=S[1],N=Object(c.useState)([]),D=Object(d.a)(N,2),M=D[0],T=D[1],E=Object(c.useState)(""),F=Object(d.a)(E,2),L=F[0],P=F[1],I=Object(c.useState)(),q=Object(d.a)(I,2),z=q[0],B=q[1],U=Object(c.useState)("true"),K=Object(d.a)(U,2),W=K[0],G=K[1],Y=Object(c.useState)(),J=Object(d.a)(Y,2),V=J[0],Q=J[1],X=Object(c.useState)(),Z=Object(d.a)(X,2),ee=Z[0],te=Z[1],ne=Object(c.useState)(),ae=Object(d.a)(ne,2),ce=ae[0],re=ae[1],se=Object(c.useState)(null),le=Object(d.a)(se,2),oe=le[0],je=le[1],de=Object(c.useState)(),ue=Object(d.a)(de,2),be=ue[0],he=ue[1],Oe=Object(c.useState)(),xe=Object(d.a)(Oe,2),pe=xe[0],me=xe[1],fe=Object(c.useState)(!0),ve=Object(d.a)(fe,2),Ce=ve[0],De=ve[1],Ae=Object(c.useState)(!0),_e=Object(d.a)(Ae,2),Me=_e[0],Te=_e[1],Ee=Object(c.useState)(!0),Fe=Object(d.a)(Ee,2),Re=Fe[0],Le=Fe[1],Pe=Object(c.useState)(!0),Ie=Object(d.a)(Pe,2),qe=Ie[0],ze=Ie[1],Be=[{name:"JAN"},{name:"FEB"},{name:"MAR"},{name:"APR"},{name:"MAY"},{name:"JUN"},{name:"JUL"},{name:"AUG"},{name:"SEP"},{name:"OCT"},{name:"NOV"},{name:"DEC"}],He=[{name:"Q1"},{name:"Q2"},{name:"Q3"},{name:"Q4"}];Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.get("/userId/".concat(e.email)).then((function(e){s(e.data.userId.rows[0]),De(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.email]),Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.get("/user/".concat(e.email)).then((function(e){b(e.data.projectsByUser.rows),Te(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.email]),Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.get("/user/".concat(e.email)).then((function(e){y(e.data.tasksByUser.rows),Le(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.email]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on.get("/").then((function(e){T(e.data.allDepartments.rows),ze(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var Ue=function(){var e=Object(_.a)(A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,sn.post("/fundRequest",{budgeted:W,project_id:x,description:pe,initiator:i.user_id,expense_head:z,assign_to:V,task_id:k,frequency:ee,amount:ce,starting:oe,department:M.filter((function(e){return e.department_name===L}))[0].department_id,required_by:be,status:"Pending L1"}).then((function(e){200===e.status?alert("Requisition Created Successfully"):alert("Could not create requisition")}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0&&alert("Could not create requisition");case 9:t.push("/finance/fundrequests");case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return!Ce&&!Me&&!Re&&!qe?Object(a.jsxs)("div",{id:"request-funds",className:"container",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(m.h,{size:40}),Object(a.jsx)("h4",{id:"req-funds-title",children:"Funds Requisition"})]}),Object(a.jsxs)(ge.a,{onSubmit:Ue,children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)(Se.a,{className:"mr-5",children:[Object(a.jsx)(ye.a,{children:"Role"}),Object(a.jsxs)("select",{id:"department",value:L,onChange:function(e){return P(e.target.value)},className:"form-control",required:!0,children:[Object(a.jsx)("option",{}),M.map((function(e){return Object(a.jsx)("option",{value:e.department_name,children:e.department_name},e.department_id)}))]})]}),Object(a.jsxs)(Se.a,{className:"mr-5",children:[Object(a.jsx)(ye.a,{children:"Expense Head"}),Object(a.jsx)(jn,{department:L,value:z,onChange:function(e){return B(e.target.value)}})]}),Object(a.jsxs)(Se.a,{id:"assign-to",className:"mr-5",children:[Object(a.jsx)(ye.a,{children:"Assign To"}),Object(a.jsxs)(we.a,{as:"select",value:V,onChange:function(e){return Q(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Project",children:"Project"}),Object(a.jsx)("option",{value:"Task",children:"Task"}),Object(a.jsx)("option",{value:"NA",children:"NA"})]})]}),Object(a.jsxs)(Se.a,{style:{display:"Project"!==V?"none":"block"},id:"assign-toggle",children:[Object(a.jsx)(ye.a,{children:"Select Project"}),Object(a.jsxs)(we.a,{as:"select",value:x,onChange:function(e){return p(e.target.value)},required:"Project"===V,children:[Object(a.jsx)("option",{}),u.map((function(e){return Object(a.jsx)("option",{value:e.project_id,children:e.project_title},e.project_id)}))]})]}),Object(a.jsxs)(Se.a,{style:{display:"Task"!==V?"none":"block"},id:"assign-toggle",children:[Object(a.jsx)(ye.a,{children:"Select Task"}),Object(a.jsxs)(we.a,{as:"select",value:k,onChange:function(e){return C(e.target.value)},required:"Task"===V,children:[Object(a.jsx)("option",{}),v.map((function(e){return Object(a.jsx)("option",{value:e.task_id,children:e.task_title},e.task_id)}))]})]})]}),Object(a.jsxs)("div",{className:"row mt-2",children:[Object(a.jsxs)(Se.a,{children:[Object(a.jsx)(ye.a,{className:"mb-3",children:"Budgeted ?"}),Object(a.jsxs)("div",{className:"input-group",id:"budgeted",children:[Object(a.jsx)("span",{className:"input-group-prepend mr-3",children:"Yes"}),Object(a.jsx)("input",{name:"expenseType",value:!0,type:"radio",className:"budgeted-radio",id:"true",checked:"true"===W,onClick:function(e){return G(e.target.value)}}),Object(a.jsx)("span",{className:"input-group-prepend ml-4 mr-3",children:"No"}),Object(a.jsx)("input",{name:"expenseType",value:!1,type:"radio",className:"budgeted-radio",id:"false",checked:"false"===W,onClick:function(e){return G(e.target.value)}})]})]}),Object(a.jsxs)(Se.a,{id:"funds-frequency",children:[Object(a.jsx)(ye.a,{children:"Frequency"}),Object(a.jsxs)(we.a,{as:"select",value:ee,onChange:function(e){te(e.target.value),je("")},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Monthly",children:"Monthly"}),Object(a.jsx)("option",{value:"Quarterly",children:"Quarterly"}),Object(a.jsx)("option",{value:"Annual",children:"Annual"}),Object(a.jsx)("option",{value:"Exact",children:"Exact"})]})]}),Object(a.jsxs)(Se.a,{id:"funds-frequency",style:{display:ee?"block":"none"},children:[Object(a.jsx)(ye.a,{children:"Amount"}),Object(a.jsx)(we.a,{type:"number",value:ce,onChange:function(e){return re(e.target.value)},min:0,style:{textAlign:"center"},required:!0})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)(Se.a,{id:"funds-frequency",style:{display:"Exact"!==ee?"none":"block"},children:[Object(a.jsx)(ye.a,{className:"ml-3",children:"Required By"}),Object(a.jsx)(Ne.a,{selected:be,onChange:function(e){return he(e)},dateFormat:"dd/MM/yyyy",required:"Exact"===ee,value:be})]})}),Object(a.jsxs)(Se.a,{id:"funds-starting",style:{display:ee&&"Annual"!==ee&&"Exact"!==ee?"block":"none"},children:[Object(a.jsx)(ye.a,{children:"Starting From"}),Object(a.jsxs)(we.a,{as:"select",value:oe,onChange:function(e){return je(e.target.value)},required:"Monthly"===ee||"Quarterly"===ee,children:[Object(a.jsx)("option",{children:null}),"Monthly"===ee?Be.map((function(e){return Object(a.jsx)("option",{children:e.name})})):"Quarterly"===ee?He.map((function(e){return Object(a.jsx)("option",{children:e.name})})):null]})]}),Object(a.jsxs)(Se.a,{style:{display:ee&&"Exact"!==ee?"block":"none"},id:"frequent-amount",children:[Object(a.jsx)(ye.a,{className:"mb-3 ml-3",children:Object(a.jsx)("u",{children:"Total"})}),Object(a.jsx)("br",{}),Object(a.jsx)("h6",{children:"Monthly"===ee&&oe?(12-Be.findIndex((function(e){return e.name===oe})))*ce:"Quarterly"===ee&&oe?(4-He.findIndex((function(e){return e.name===oe})))*ce:"Annual"===ee?ce:null})]})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)(Se.a,{id:"req-description",children:[Object(a.jsx)(ye.a,{children:"Requirement Description"}),Object(a.jsx)(we.a,{as:"textarea",placeholder:"not exceeding 100 characters ...",rows:3,maxLength:100,required:!0,value:pe,onChange:function(e){return me(e.target.value)}})]}),Object(a.jsx)("div",{style:{textAlign:"center",marginTop:"60px",marginLeft:"40px"},children:Object(a.jsx)(ke.a,{variant:"info",type:"submit",style:{width:"150px"},children:"Create Requisition"})})]})]})]}):Object(a.jsx)("div",{id:"fund-requests",children:"Fetching Data ..."})},un=function(){var e=Object(H.g)().id,t=Object(o.b)().user,n=Object(H.f)(),r=new M.AvatarGenerator,i=Object(c.useState)([]),s=Object(d.a)(i,2),l=s[0],j=s[1],u=Object(c.useState)(),b=Object(d.a)(u,2),O=b[0],x=b[1],p=Object(c.useState)(!0),m=Object(d.a)(p,2),f=m[0],g=m[1],v=[{short:"JAN",long:"January",tiny:"J"},{short:"FEB",long:"February",tiny:"F"},{short:"MAR",long:"March",tiny:"M"},{short:"APR",long:"April",tiny:"A"},{short:"MAY",long:"May",tiny:"M"},{short:"JUN",long:"June",tiny:"J"},{short:"JUL",long:"July",tiny:"J"},{short:"AUG",long:"August",tiny:"A"},{short:"SEP",long:"September",tiny:"S"},{short:"OCT",long:"October",tiny:"O"},{short:"NOV",long:"November",tiny:"N"},{short:"DEC",long:"December",tiny:"D"}],y=[{name:"Q1"},{name:"Q2"},{name:"Q3"},{name:"Q4"}];Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sn.get("/fundRequests/".concat(e)).then((function(e){j(e.data.fundRequestById.rows[0]),g(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var w,S,k,C=function(){var a=Object(_.a)(A.a.mark((function a(c){return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,a.next=4,sn.patch("fundRequests/".concat(e),{status:"Approved",comments:{user:t.nickname,content:O}});case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(1);case 8:n.push("/finance/fundrequests"),alert("Updated Successfully");case 10:case"end":return a.stop()}}),a,null,[[1,6]])})));return function(e){return a.apply(this,arguments)}}(),N=function(){var a=Object(_.a)(A.a.mark((function a(c){return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(O){a.next=4;break}alert("Please add a comment before submitting!"),a.next=14;break;case 4:return c.preventDefault(),a.prev=5,a.next=8,sn.patch("fundRequests/".concat(e),{status:"Rejected",comments:{user:t.nickname,content:O}});case 8:a.next=12;break;case 10:a.prev=10,a.t0=a.catch(5);case 12:n.push("/finance/fundrequests"),alert("Updated Successfully");case 14:case"end":return a.stop()}}),a,null,[[5,10]])})));return function(e){return a.apply(this,arguments)}}(),D=function(){var a=Object(_.a)(A.a.mark((function a(c){return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,a.next=4,sn.patch("fundRequests/".concat(e),{status:l.status,comments:{user:t.nickname,content:O}});case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(1);case 8:n.push("/finance/fundrequests"),alert("Updated Successfully");case 10:case"end":return a.stop()}}),a,null,[[1,6]])})));return function(e){return a.apply(this,arguments)}}();return!f?Object(a.jsxs)("div",{id:"edit-fund-req",children:[Object(a.jsxs)("div",{className:"row",style:{marginLeft:"20px"},children:[Object(a.jsxs)("div",{className:"column mr-2",id:"efr-left",children:[Object(a.jsx)("p",{id:"efr-small-title",children:"Request ID"}),Object(a.jsx)("p",{id:"efr-output",children:l.request_id}),Object(a.jsx)("hr",{id:"hr"}),Object(a.jsx)("p",{id:"efr-small-title",children:"Initiated By"}),Object(a.jsx)("img",{id:"initiator-avatar",src:r.generateRandomAvatar(l.initiator),alt:"profile-pic"}),Object(a.jsx)("p",{id:"efr-output",children:l.initiator_name}),Object(a.jsx)("hr",{id:"hr"}),Object(a.jsx)("p",{id:"efr-small-title",children:"Created On"}),Object(a.jsx)("p",{id:"efr-output",children:Object(Y.default)(new Date(l.created_at),"do MMM yyyy")}),Object(a.jsx)("hr",{id:"hr"}),Object(a.jsx)("p",{id:"efr-small-title",children:"Status"}),Object(a.jsx)("p",{id:"efr-output",children:l.status}),Object(a.jsx)("hr",{id:"hr"})]}),Object(a.jsxs)("div",{className:"column mr-2",id:"efr-middle",children:[Object(a.jsx)("p",{id:"efr-small-title",children:"Description"}),Object(a.jsx)("p",{id:"efr-output",children:l.description}),Object(a.jsx)("hr",{id:"hr"}),l.project_id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{id:"efr-small-title",children:"Project Title"}),Object(a.jsx)("p",{id:"efr-output",children:l.project_title}),Object(a.jsx)("hr",{id:"hr"})]}):l.task_id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{id:"efr-small-title",children:"Task Title"}),Object(a.jsx)("p",{id:"efr-output",children:l.task_title}),Object(a.jsx)("hr",{id:"hr"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{id:"efr-small-title",children:"Project / Task"}),Object(a.jsx)("p",{id:"efr-output",children:"This requisition is unassigned"}),Object(a.jsx)("hr",{id:"hr"})]}),Object(a.jsx)("p",{id:"efr-small-title",children:"Department"}),Object(a.jsx)("p",{id:"efr-output",children:l.department_name}),Object(a.jsx)("hr",{id:"hr"}),Object(a.jsx)("p",{id:"efr-small-title",children:"Expense Head"}),Object(a.jsx)("p",{id:"efr-output",children:l.expense_head}),Object(a.jsx)("hr",{id:"hr"}),Object(a.jsx)("p",{id:"efr-small-title",children:"Budgeted"}),!0===l.budgeted?Object(a.jsx)(nn.a,{size:35,color:"#2A9D8F"}):Object(a.jsx)(nn.b,{size:35,color:"#E76F51"}),Object(a.jsx)("hr",{id:"hr"})]}),Object(a.jsxs)("div",{className:"column mr-5",id:"efr-right",children:[Object(a.jsx)("p",{id:"efr-small-title",children:"Amount"}),Object(a.jsxs)("p",{id:"efr-output",children:["US$ ",l.amount," ","Monthly"===l.frequency?"every month starting ".concat(v.filter((function(e){return e.short===l.starting}))[0].long):"Quarterly"===l.frequency?"every quarter starting ".concat(l.starting):"Exact"===l.frequency?"on or before ".concat(Object(Y.default)(new Date(l.required_by),"do MMM yyyy")):"this year"]}),Object(a.jsx)("hr",{id:"hr"}),Object(a.jsxs)("div",{style:{display:"Annual"===l.frequency||"Exact"===l.frequency?"none":"flex"},children:[Object(a.jsxs)("div",{className:"mr-5",style:{width:"200px"},children:[Object(a.jsx)("p",{id:"efr-small-title",children:"Total This Year"}),Object(a.jsxs)("p",{id:"efr-output",children:["US$"," ",(w=l.frequency,S=l.starting,k=l.amount,"Monthly"===w?(12-v.findIndex((function(e){return e.short===S})))*k:"Quarterly"===w?(4-y.findIndex((function(e){return e.name===S})))*k:k)]})]}),Object(a.jsxs)(Kt.a,{data:[{month:"J",spend:0},{month:"F",spend:0},{month:"M",spend:0},{month:"A",spend:700},{month:"M",spend:700},{month:"J",spend:700},{month:"J",spend:700},{month:"A",spend:700},{month:"S",spend:700},{month:"O",spend:700},{month:"N",spend:700},{month:"D",spend:700}],width:350,height:100,margin:{right:30},children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1}),Object(a.jsx)(vt.a,{dataKey:"spend",fill:"#F4A261"}),Object(a.jsx)(ht.a,{})]})]}),Object(a.jsx)("hr",{id:"hr",style:{display:"Annual"===l.frequency||"Exact"===l.frequency?"none":"flex"}}),Object(a.jsxs)(ge.a,{children:[Object(a.jsxs)("div",{style:{width:"490px"},children:[Object(a.jsxs)("p",{id:"efr-small-title",children:["Add a comment ",Object(a.jsx)("em",{children:"(mandatory if rejecting)"})]}),Object(a.jsx)(we.a,{as:"textarea",maxLength:150,value:O,onChange:function(e){return x(e.target.value)},rows:3,placeholder:"max 150 characters",style:{backgroundColor:"#FCF8EC"},required:!0})]}),Object(a.jsxs)("div",{className:"row ml-0 mt-3",children:[Object(a.jsx)("div",{className:"mr-4",style:{display:"Approved"===l.status?"none":"block"},children:Object(a.jsx)(ke.a,{type:"submit",variant:"success",onClick:C,children:Object(a.jsx)(h.l,{size:20})})}),Object(a.jsx)("div",{className:"mr-4",style:{display:"Rejected"===l.status?"none":"block"},children:Object(a.jsx)(ke.a,{variant:"danger",type:"submit",onClick:N,children:Object(a.jsx)(h.k,{size:20})})}),Object(a.jsx)("div",{children:Object(a.jsx)(ke.a,{type:"submit",disabled:!O,onClick:D,children:Object(a.jsx)(h.f,{size:20})})})]})]})]})]}),Object(a.jsx)("div",{className:"row ml-4 mt-3",children:Object(a.jsxs)("div",{style:{width:"480px",padding:"20px",border:"1px solid #BDD6E0",borderRadius:"10px"},className:"column",children:[Object(a.jsx)("h5",{style:{fontWeight:"bold"},children:"Comments"}),Object(a.jsx)("hr",{id:"hr"}),l.comments&&l.comments.map((function(e){return Object(a.jsxs)("div",{className:"mb-2",style:{textAlign:e.user===t.nickname?"right":"left"},children:[Object(a.jsxs)("p",{style:{color:"brown",fontWeight:"bold",margin:"0px"},children:[e.user,":"," "]}),Object(a.jsx)("p",{style:{margin:"0px"},children:e.content})]})}))]})})]}):Object(a.jsx)("div",{id:"edit-fund-req",children:Object(a.jsx)("h5",{children:"Fetching Data..."})})},bn=function(){return Object(a.jsx)("div",{})},hn=function(e){var t=e.dueDate,n=(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())-Date.UTC(new Date(t).getFullYear(),new Date(t).getMonth(),new Date(t).getDate()))/864e5;return n<0?Object(a.jsx)("p",{id:"not-due",children:"Not Due"}):n>0&&n<=15?Object(a.jsx)("p",{id:"days0-15",children:"0-15 days"}):n>15&&n<=30?Object(a.jsx)("p",{id:"days15-30",children:"15-30 days"}):n>30&&n<=60?Object(a.jsx)("p",{id:"days30-60",children:"30-60 days"}):n>60&&n<=90?Object(a.jsx)("p",{id:"days60-90",children:"60-90 days"}):Object(a.jsx)("p",{id:"ageing-danger",children:"90+ days"})},On=[{Header:"Customer",accessor:"customer_name"},{Header:"Update",accessor:"",Cell:function(e){return Object(a.jsx)(i.b,{to:"/finance/receivables/".concat(e.row.original.invoice_number),children:Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsx)(x.e,{size:30,color:"#2A9D8F"})})})}},{Header:"Division",accessor:"division_name"},{Header:"Invoice No.",accessor:"invoice_number"},{Header:"Invoice Date",accessor:"invoice_date",Cell:function(e){var t=e.value;return Object(Y.default)(new Date(t),"do MMM yyyy")}},{Header:"Due Date",accessor:"due_date",Cell:function(e){var t=e.value;return Object(Y.default)(new Date(t),"do MMM yyyy")}},{Header:"Billed",accessor:"invoice_amount"},{Header:"Received",accessor:"amount_received"},{Header:"Outstanding",accessor:"outstanding"},{Header:"Ageing",accessor:"",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsx)(hn,{dueDate:e.row.original.due_date})})}}],xn=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useMemo)((function(){return On}),[]),s=Object(c.useMemo)((function(){return n}),[n]),l=Object(K.useTable)({columns:i,data:s,initialState:{pageSize:7}},K.useGlobalFilter,K.useSortBy,K.usePagination),o=l.getTableProps,j=l.getTableBodyProps,u=l.headerGroups,b=l.page,h=l.nextPage,O=l.previousPage,x=l.canNextPage,p=l.canPreviousPage,m=l.pageOptions,f=l.gotoPage,g=l.pageCount,v=l.setPageSize,y=l.state,w=l.setGlobalFilter,S=l.prepareRow,k=y.globalFilter,C=y.pageIndex,N=y.pageSize;return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn.get("/invoices").then((function(e){r(e.data.invoices.rows)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{id:"fin-collect",children:[Object(a.jsx)("div",{id:"invoices-filter",className:"mb-3",children:Object(a.jsx)(X,{filter:k,setFilter:w})}),Object(a.jsxs)("p",{id:"invoices-counter",children:["Showing ",N," of ",n.length," invoices ..."]}),Object(a.jsxs)("table",Object(U.a)(Object(U.a)({},o()),{},{className:"table table-hover",children:[Object(a.jsx)("thead",{children:u.map((function(e){return Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsxs)("th",Object(U.a)(Object(U.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(a.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \u2193":" \u2191":""})]}))}))}))}))}),Object(a.jsx)("tbody",Object(U.a)(Object(U.a)({},j()),{},{children:b.map((function(e){return S(e),Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(U.a)(Object(U.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(a.jsxs)("div",{className:"pagination",children:[Object(a.jsxs)("div",{children:["Page ",C+1," of ",m.length]}),Object(a.jsxs)("span",{style:{marginLeft:"220px"},children:["Go to page:"," ",Object(a.jsx)("input",{type:"number",min:1,max:Math.ceil(n.length/N),defaultValue:C+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;f(t)},style:{width:"50px",marginRight:"2px",marginLeft:"2px",textAlign:"center"}})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-info",onClick:function(){return f(0)},disabled:!p,style:{height:"25px",width:"30px",marginRight:"2px",marginLeft:"2px"},children:"<<"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return O()},disabled:!p,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Prev"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return h()},disabled:!x,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Next"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return f(g-1)},disabled:!x,style:{height:"25px",width:"30px",marginRight:"220px",marginLeft:"2px"},children:">>"}),Object(a.jsx)("select",{value:N,onChange:function(e){return v(Number(e.target.value))},style:{fontSize:"0.9rem"},children:[5,10,15].map((function(e){return Object(a.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})},pn=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(),l=Object(d.a)(s,2),o=l[0],j=l[1],u=Object(c.useState)(!0),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(H.g)().id,p=Object(H.f)();Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn.get("invoices/".concat(x)).then((function(e){r(e.data.invoiceById.rows[0]),O(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x]);var m=function(){var e=Object(_.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,sn.patch("invoices/".concat(x),{amount_received:o});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:p.push("/finance/receivables"),alert("Updated Successfully");case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{id:"collect-update",children:[Object(a.jsxs)("h4",{id:"invoice-number",children:["Invoice No. ",n.invoice_number]}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(Le.a,{elevation:3,children:Object(a.jsxs)("table",{className:"table",children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"Invoice Date"}),Object(a.jsx)("td",{children:h?"Loading":Object(Y.default)(new Date(n.invoice_date),"do MMM yyyy")})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"Due Date"}),Object(a.jsx)("td",{children:h?"Loading":Object(Y.default)(new Date(n.due_date),"do MMM yyyy")})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"Customer"}),Object(a.jsx)("td",{children:n.customer_name})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"Division"}),Object(a.jsx)("td",{children:n.division_name})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"Billed Amount"}),Object(a.jsxs)("td",{children:["$ ",n.invoice_amount]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"Received Till Date"}),Object(a.jsxs)("td",{children:["$ ",n.amount_received]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"Outstanding"}),Object(a.jsxs)("td",{children:["$ ",n.invoice_amount-n.amount_received]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"Days Outstanding"}),Object(a.jsx)("td",{children:function(e){var t=(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())-Date.UTC(new Date(e).getFullYear(),new Date(e).getMonth(),new Date(e).getDate()))/864e5;return t>0?t:"Not Due"}(n.due_date)})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{id:"collect-left-col",children:"New $ Received"}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",value:o,onChange:function(e){return j(e.target.value)},required:!0})})]})]})}),Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsx)(ke.a,{type:"submit",variant:"info",style:{widht:"75px",marginRight:"20px"},onClick:m,disabled:!o,children:"Update"}),Object(a.jsx)(i.b,{to:"/finance/receivables",children:Object(a.jsx)(ke.a,{variant:"warning",style:{width:"75px"},children:"Back"})})]})]})]})},mn=function(){return Object(a.jsx)("div",{id:"budgets",children:Object(a.jsx)("h5",{children:"Budgets"})})},fn=function(){var e=Object(H.h)().path;return Object(a.jsxs)(H.c,{children:[Object(a.jsx)(H.a,{path:e+"fundrequests",exact:!0,component:ln}),Object(a.jsx)(H.a,{path:e+"requestfunds",exact:!0,component:dn}),Object(a.jsx)(H.a,{path:e+"sendpricingform",exact:!0,component:bn}),Object(a.jsx)(H.a,{path:e+"receivables",exact:!0,component:xn}),Object(a.jsx)(H.a,{path:e+"receivables/:id",exact:!0,component:pn}),Object(a.jsx)(H.a,{path:e+"fundrequests/:id",exact:!0,component:un}),Object(a.jsx)(H.a,{path:e+"budgets",exact:!0,component:mn})]})},gn=F.a.create({baseURL:"http://localhost:5000/api/customers"}),vn=function(e){var t=e.customerId;return Object(a.jsxs)(Kt.a,{width:170,height:100,data:function(e){return{data:[{name:"Target",value:parseInt(e.row.original.target),fill:"#E76F51"},{name:"Actual",value:parseInt(e.row.original.actual),fill:"#E9C46A"},{name:"Collected",value:parseInt(e.row.original.collected),fill:"#2A9D8F"}]}}(t).data,children:[Object(a.jsx)(ut.a,{dataKey:"name",tick:{display:"none"}}),Object(a.jsx)(ht.a,{}),Object(a.jsx)(vt.a,{dataKey:"value",fill:"fill"})]})},yn=[{Header:"Name",accessor:"customer_name",Cell:function(e){return Object(a.jsx)(i.b,{to:"/sales/customers/".concat(e.row.original.customer_id),children:Object(a.jsx)("div",{id:"customer-link",children:e.value})})}},{Header:"Country",accessor:"country"},{Header:"State",accessor:"state"},{Header:"Industry",accessor:"industry"},{Header:"Target | Actual | Collected",accessor:"customer_id",Cell:function(e){return Object(a.jsx)("div",{id:"summary-chart",children:Object(a.jsx)(vn,{customerId:e})})}},{Header:"Share",accessor:""}],wn=(n(109),function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(c.useMemo)((function(){return yn}),[]),s=Object(c.useMemo)((function(){return n}),[n]),l=Object(K.useTable)({columns:i,data:s,initialState:{pageSize:5}},K.useGlobalFilter,K.useSortBy,K.usePagination),o=l.getTableProps,j=l.getTableBodyProps,u=l.headerGroups,b=l.page,h=l.nextPage,O=l.previousPage,x=l.canNextPage,p=l.canPreviousPage,m=l.pageOptions,f=l.gotoPage,g=l.pageCount,v=l.setPageSize,y=l.state,w=l.setGlobalFilter,S=l.prepareRow,k=y.globalFilter,C=y.pageIndex,N=y.pageSize;return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/customerList").then((function(e){r(e.data.customerList.rows)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{id:"sales-customers",children:[Object(a.jsx)("div",{id:"customer-filter",children:Object(a.jsx)(X,{filter:k,setFilter:w})}),Object(a.jsxs)("p",{id:"customer-counter",children:["Showing ",N," of ",n.length," customers"]}),Object(a.jsxs)(tn.a,{id:"customer-period-toggler",children:[Object(a.jsx)(ke.a,{variant:"outline-secondary",children:"Month"}),Object(a.jsx)(ke.a,{variant:"outline-secondary",children:"Quarter"}),Object(a.jsx)(ke.a,{variant:"outline-secondary",active:!0,children:"Year"})]}),Object(a.jsxs)("table",Object(U.a)(Object(U.a)({},o()),{},{className:"table table-hover",children:[Object(a.jsx)("thead",{children:u.map((function(e){return Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsxs)("th",Object(U.a)(Object(U.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{id:"customer-header",children:[e.render("Header"),Object(a.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \u2193":" \u2191":""})]}))}))}))}))}),Object(a.jsx)("tbody",Object(U.a)(Object(U.a)({},j()),{},{children:b.map((function(e){return S(e),Object(a.jsx)("tr",Object(U.a)(Object(U.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(U.a)(Object(U.a)({},e.getCellProps()),{},{id:"customer-row",children:e.render("Cell")}))}))}))}))}))]})),Object(a.jsxs)("div",{className:"pagination",children:[Object(a.jsxs)("div",{children:["Page ",C+1," of ",m.length]}),Object(a.jsxs)("span",{style:{marginLeft:"220px"},children:["Go to page:"," ",Object(a.jsx)("input",{type:"number",min:1,max:Math.ceil(n.length/N),defaultValue:C+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;f(t)},style:{width:"50px",marginRight:"2px",marginLeft:"2px",textAlign:"center"}})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-info",onClick:function(){return f(0)},disabled:!p,style:{height:"25px",width:"30px",marginRight:"2px",marginLeft:"2px"},children:"<<"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return O()},disabled:!p,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Prev"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return h()},disabled:!x,style:{height:"25px",width:"50px",marginRight:"2px",marginLeft:"2px"},children:"Next"}),Object(a.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){return f(g-1)},disabled:!x,style:{height:"25px",width:"30px",marginRight:"220px",marginLeft:"2px"},children:">>"}),Object(a.jsx)("select",{value:N,onChange:function(e){return v(Number(e.target.value))},style:{fontSize:"0.9rem"},children:[5,10,15].map((function(e){return Object(a.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})]})}),Sn=F.a.create({baseURL:"http://localhost:5000/api/divisions"}),kn={border:0,borderRadius:"8px",fontSize:14,boxShadow:"2px 2px 5px 3px rgba(0,0,0,0.15)"},Cn=function(){var e=Object(H.f)(),t=Object(o.b)().user,n=(new Date).getMonth(),r=Object(c.useState)([]),i=Object(d.a)(r,2),s=i[0],l=i[1],j=Object(c.useState)(),u=Object(d.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)(),x=Object(d.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)([]),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(),S=Object(d.a)(w,2),k=S[0],C=S[1],N=Object(c.useState)(),D=Object(d.a)(N,2),M=D[0],T=D[1],E=Object(c.useState)([]),F=Object(d.a)(E,2),L=F[0],P=F[1],I=Object(c.useState)(),q=Object(d.a)(I,2),z=q[0],B=q[1],U=Object(c.useState)(),K=Object(d.a)(U,2),W=K[0],G=K[1],Y=Object(c.useState)("Existing"),J=Object(d.a)(Y,2),V=J[0],Q=J[1],$=Object(c.useState)([]),X=Object(d.a)($,2),Z=X[0],ee=X[1],te=Object(c.useState)(),ne=Object(d.a)(te,2),ae=ne[0],ce=ne[1],re=Object(c.useState)(),ie=Object(d.a)(re,2),se=ie[0],le=ie[1],oe=Object(c.useState)(0),je=Object(d.a)(oe,2),de=je[0],ue=je[1],be=Object(c.useState)(0),he=Object(d.a)(be,2),Oe=he[0],xe=he[1],pe=Object(c.useState)(0),me=Object(d.a)(pe,2),fe=me[0],ve=me[1],ye=Object(c.useState)(0),we=Object(d.a)(ye,2),Se=we[0],Ce=we[1],Ne=Object(c.useState)(0),De=Object(d.a)(Ne,2),Ae=De[0],_e=De[1],Me=Object(c.useState)(0),Te=Object(d.a)(Me,2),Ee=Te[0],Fe=Te[1],Re=Object(c.useState)(0),Le=Object(d.a)(Re,2),Pe=Le[0],Ie=Le[1],qe=Object(c.useState)(0),ze=Object(d.a)(qe,2),Be=ze[0],He=ze[1],Ue=Object(c.useState)(0),Ke=Object(d.a)(Ue,2),We=Ke[0],Ge=Ke[1],Ye=Object(c.useState)(0),Je=Object(d.a)(Ye,2),Ve=Je[0],Qe=Je[1],$e=Object(c.useState)(0),Xe=Object(d.a)($e,2),Ze=Xe[0],et=Xe[1],tt=Object(c.useState)(0),nt=Object(d.a)(tt,2),at=nt[0],ct=nt[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/salesMarketing");case 2:t=e.sent,P(t.data.salesMarketing.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/");case 2:t=e.sent,l(t.data.customers.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.get("/");case 2:t=e.sent,y(t.data.divisions.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/userId/".concat(t.email));case 2:n=e.sent,ee(n.data.userId.rows[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.email]),console.log(Z.user_id);var rt=[{name:"JAN",value:de},{name:"FEB",value:Oe},{name:"MAR",value:fe},{name:"APR",value:Se},{name:"MAY",value:Ae},{name:"JUN",value:Ee},{name:"JUL",value:Pe},{name:"AUG",value:Be},{name:"SEP",value:We},{name:"OCT",value:Ve},{name:"NOV",value:Ze},{name:"DEC",value:at}],it=function(){var t=Object(_.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,gn.post("/leads",{customer_type:V,customer_id:b,division:k,assignee:z,prospect:ae,region:p,source:M,status:W,pipeline:{January:de,February:Oe,March:fe,April:Se,May:Ae,June:Ee,July:Pe,August:Be,September:We,October:Ve,November:Ze,December:at},created_by:Z.user_id,likelihood:se});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:e.push("/sales/customers"),alert("Lead Created Successfully");case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{id:"sales-lead",children:[Object(a.jsx)("h5",{id:"lead-title",children:"Create Lead"}),Object(a.jsxs)("div",{id:"lead-input-group",className:"input-group",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{className:"input-group-text",children:"Customer Type"})}),Object(a.jsx)("input",{className:"lead-radio",type:"radio",id:"existing",name:"customerType",value:"Existing",checked:"Existing"===V,onClick:function(e){return Q(e.target.value)}}),Object(a.jsx)("label",{id:"lead-radio-text",for:"existing",children:"Existing"}),Object(a.jsx)("input",{className:"lead-radio",type:"radio",id:"new",name:"customerType",value:"New",checked:"New"===V,onClick:function(e){return Q(e.target.value)}}),Object(a.jsx)("label",{id:"lead-radio-text",for:"new",children:"New"})]}),Object(a.jsxs)(ge.a,{onSubmit:it,children:[Object(a.jsxs)("table",{className:"table",id:"lead-basic",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Customer"}),Object(a.jsx)("th",{children:"Region"}),Object(a.jsx)("th",{children:"Division"}),Object(a.jsx)("th",{children:"Source"}),Object(a.jsx)("th",{children:"Assign To"}),Object(a.jsx)("th",{children:"Status"})]})}),Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:["Existing"===V?Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:b,className:"form-control",onChange:function(e){return h(e.target.value)},children:[Object(a.jsx)("option",{}),s.map((function(e){return Object(a.jsx)("option",{value:e.customer_id,children:e.customer_name},e.customer_id)}))]})}):Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"enter prospect name",value:ae,onChange:function(e){return ce(e.target.value)}})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:p,className:"form-control",onChange:function(e){return m(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"United States",children:"United States"}),Object(a.jsx)("option",{value:"France",children:"France"}),Object(a.jsx)("option",{value:"Canada",children:"Canada"})]})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:k,className:"form-control",onChange:function(e){return C(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),v.map((function(e){return Object(a.jsx)("option",{value:e.division_id,children:e.division_name},e.division_id)}))]})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:M,className:"form-control",onChange:function(e){return T(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Direct Contact",children:"Direct Contact"}),Object(a.jsx)("option",{value:"Website",children:"Website"}),Object(a.jsx)("option",{value:"Phone",children:"Phone"}),Object(a.jsx)("option",{value:"Exhibition",children:"Exhibition"}),Object(a.jsx)("option",{value:"Social Media",children:"Social Media"}),Object(a.jsx)("option",{value:"Referral",children:"Referral"}),Object(a.jsx)("option",{value:"Campaign",children:"Campaign"})]})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:z,className:"form-control",onChange:function(e){return B(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),L.map((function(e){return Object(a.jsxs)("option",{value:e.user_id,children:[e.full_name," - ",e.department_name]},e.user_id)}))]})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:W,onChange:function(e){G(e.target.value),le("")},className:"form-control",required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Prospect",children:"Prospect"}),Object(a.jsx)("option",{value:"In Discussions",children:"In Discussions"}),Object(a.jsx)("option",{value:"Proposal Submitted",children:"Proposal Submitted"}),Object(a.jsx)("option",{value:"Won",children:"Won"}),Object(a.jsx)("option",{value:"Aborted",children:"Aborted"})]})})]})})]}),Object(a.jsx)("h5",{id:"lead-title-months",children:"Revenue Distribution (zero value allowed but not blank)"}),Object(a.jsxs)("table",{className:"table",id:"lead-months",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("th",{children:"JAN"}),Object(a.jsx)("th",{children:"FEB"}),Object(a.jsx)("th",{children:"MAR"}),Object(a.jsx)("th",{children:"APR"}),Object(a.jsx)("th",{children:"MAY"}),Object(a.jsx)("th",{children:"JUN"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>0,min:0,value:de,onChange:function(e){return ue(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>1,min:0,value:Oe,onChange:function(e){return xe(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>2,min:0,value:fe,onChange:function(e){return ve(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>3,min:0,value:Se,onChange:function(e){return Ce(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>4,min:0,value:Ae,onChange:function(e){return _e(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>5,min:0,value:Ee,onChange:function(e){return Fe(e.target.value)},required:!0})})]})]}),Object(a.jsxs)("table",{className:"table",id:"lead-months",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("th",{children:"JUL"}),Object(a.jsx)("th",{children:"AUG"}),Object(a.jsx)("th",{children:"SEP"}),Object(a.jsx)("th",{children:"OCT"}),Object(a.jsx)("th",{children:"NOV"}),Object(a.jsx)("th",{children:"DEC"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>6,min:0,value:Pe,onChange:function(e){return Ie(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>7,min:0,value:Be,onChange:function(e){return He(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>8,min:0,value:We,onChange:function(e){return Ge(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>9,min:0,value:Ve,onChange:function(e){return Qe(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>10,min:0,value:Ze,onChange:function(e){return et(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:n>11,min:0,value:at,onChange:function(e){return ct(e.target.value)},required:!0})})]})]}),Object(a.jsx)("div",{id:"lead-submit",children:Object(a.jsx)(ke.a,{variant:"primary",type:"submit",children:"Create Lead"})}),Object(a.jsxs)("div",{id:"likelihood",children:[Object(a.jsx)("label",{htmlFor:"likely",children:"Likelihood of Conversion (%)"}),Object(a.jsxs)("select",{id:"likely",className:"form-control",required:!0,value:se,onChange:function(e){return le(e.target.value)},children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{selected:"Aborted"===W,value:"0",children:"0"}),Object(a.jsx)("option",{value:"10",children:"10"}),Object(a.jsx)("option",{value:"20",children:"20"}),Object(a.jsx)("option",{value:"30",children:"30"}),Object(a.jsx)("option",{value:"40",children:"40"}),Object(a.jsx)("option",{value:"50",children:"50"}),Object(a.jsx)("option",{value:"60",children:"60"}),Object(a.jsx)("option",{value:"70",children:"70"}),Object(a.jsx)("option",{value:"80",children:"80"}),Object(a.jsx)("option",{value:"90",children:"90"}),Object(a.jsx)("option",{selected:"Won"===W,value:"100",children:"100"})]})]})]}),Object(a.jsxs)("h5",{id:"lead-chart-title",children:["Expected Sales $"," ",rt.reduce((function(e,t){return e+parseInt(t.value)}),0)]}),Object(a.jsx)(ot.a,{width:600,height:200,children:Object(a.jsxs)(Kt.a,{data:rt,children:[Object(a.jsx)(dt.a,{stroke:"lightgrey",strokeDasharray:"2 2"}),Object(a.jsx)(ut.a,{dataKey:"name",tickLine:!1}),Object(a.jsx)(bt.a,{unit:"$",tickLine:!1,domain:[0,Math.max(de,Oe,fe,Se,Ae,Ee,Pe,Be,We,Ve,Ze,at)]}),Object(a.jsx)(ht.a,{contentStyle:kn}),Object(a.jsx)(vt.a,{dataKey:"value",fill:"#2A9D8F"})]})})]})},Nn=function(){return Object(a.jsx)("div",{id:"customer-details",children:Object(a.jsx)("h1",{children:"Customer Landing Page"})})},Dn=function(){var e="$",t=new M.AvatarGenerator,n=Object(c.useState)([]),r=Object(d.a)(n,2),s=r[0],l=r[1],o=Object(c.useState)(!0),j=Object(d.a)(o,2),u=j[0],b=j[1],O=s.filter((function(e){return"Prospect"===e.status})),x=s.filter((function(e){return"In Discussions"===e.status})),p=s.filter((function(e){return"Proposal Submitted"===e.status})),f=s.filter((function(e){return"Won"===e.status})),g=s.filter((function(e){return"Aborted"===e.status})),v=function(e){return(Date.UTC((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())-Date.UTC(new Date(e).getFullYear(),new Date(e).getMonth(),new Date(e).getDate()))/864e5};return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/leadSummary").then((function(e){l(e.data.leadSummary.rows),b(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),u?Object(a.jsx)("div",{id:"lead-summary",children:"Fetching Details..."}):Object(a.jsx)("div",{id:"lead-summary",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"column",id:"lead-container-main",children:[Object(a.jsx)("div",{id:"heading-container",className:"row justify-content-center mr-4",style:{backgroundColor:"#264653",color:"white"},children:Object(a.jsx)("p",{id:"heading-text",children:"Prospect"})}),O.map((function(n){return Object(a.jsx)("div",{id:"content-container",className:"row mr-4",style:{backgroundColor:"#DEEBF0",color:"black"},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("img",{src:t.generateRandomAvatar(n.assignee),alt:"avatar",id:"lead-avatar"})}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Manager :"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.full_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-sm"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Source"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.source})]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("hr",{id:"lead-break-md"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Customer"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"New"===n.customer_type?n.prospect:n.customer_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-outer"}),Object(a.jsx)(m.g,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.region}),Object(a.jsx)("br",{}),Object(a.jsx)(m.e,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.division_name}),Object(a.jsx)("br",{}),Object(a.jsx)(m.h,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[e," ",Object.values(n.pipeline).reduce((function(e,t){return parseInt(e)+parseInt(t)}))]}),Object(a.jsx)("br",{}),Object(a.jsx)(m.c,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[v(n.created_on)," days old"]}),Object(a.jsx)(i.b,{to:"/sales/editlead/".concat(n.lead_id),children:Object(a.jsx)(h.i,{size:20,style:{float:"right",marginRight:"20px"}})})]})]})})}))]}),Object(a.jsxs)("div",{className:"column",id:"lead-container-main",children:[Object(a.jsx)("div",{id:"heading-container",className:"row justify-content-center mr-4",style:{backgroundColor:"#F4A261",color:"white"},children:Object(a.jsx)("p",{id:"heading-text",children:"In Discussions"})}),x.map((function(n){return Object(a.jsx)("div",{id:"content-container",className:"row mr-4",style:{backgroundColor:"#FEF4EB",color:"black"},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("img",{src:t.generateRandomAvatar(n.assignee),alt:"avatar",id:"lead-avatar"})}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Manager :"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.full_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-sm"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Source"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.source})]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("hr",{id:"lead-break-md"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Customer"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"New"===n.customer_type?n.prospect:n.customer_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-outer"}),Object(a.jsx)(m.g,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.region}),Object(a.jsx)("br",{}),Object(a.jsx)(m.e,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.division_name}),Object(a.jsx)("br",{}),Object(a.jsx)(m.h,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[e," ",Object.values(n.pipeline).reduce((function(e,t){return parseInt(e)+parseInt(t)}))]}),Object(a.jsx)("br",{}),Object(a.jsx)(m.c,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[v(n.created_on)," days old"]}),Object(a.jsx)(i.b,{to:"/sales/editlead/".concat(n.lead_id),children:Object(a.jsx)(h.i,{size:20,style:{float:"right",marginRight:"20px"}})})]})]})})}))]}),Object(a.jsxs)("div",{className:"column",id:"lead-container-main",children:[Object(a.jsx)("div",{id:"heading-container",className:"row justify-content-center mr-4",style:{backgroundColor:"#E9C46A",color:"white"},children:Object(a.jsx)("p",{id:"heading-text",children:"Proposal Submitted"})}),p.map((function(n){return Object(a.jsx)("div",{id:"content-container",className:"row mr-4",style:{backgroundColor:"#FCF8EC",color:"black"},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("img",{src:t.generateRandomAvatar(n.assignee),alt:"avatar",id:"lead-avatar"})}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Manager :"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.full_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-sm"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Source"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.source})]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("hr",{id:"lead-break-md"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Customer"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"New"===n.customer_type?n.prospect:n.customer_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-outer"}),Object(a.jsx)(m.g,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.region}),Object(a.jsx)("br",{}),Object(a.jsx)(m.e,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.division_name}),Object(a.jsx)("br",{}),Object(a.jsx)(m.h,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[e," ",Object.values(n.pipeline).reduce((function(e,t){return parseInt(e)+parseInt(t)}))]}),Object(a.jsx)("br",{}),Object(a.jsx)(m.c,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[v(n.created_on)," days old"]}),Object(a.jsx)(i.b,{to:"/sales/editlead/".concat(n.lead_id),children:Object(a.jsx)(h.i,{size:20,style:{float:"right",marginRight:"20px"}})})]})]})})}))]}),Object(a.jsxs)("div",{className:"column",id:"lead-container-main",children:[Object(a.jsx)("div",{id:"heading-container",className:"row justify-content-center mr-4",style:{backgroundColor:"#2A9D8F",color:"white"},children:Object(a.jsx)("p",{id:"heading-text",children:"Won"})}),f.map((function(n){return Object(a.jsx)("div",{id:"content-container",className:"row mr-4",style:{backgroundColor:"#E0F7F4",color:"black"},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("img",{src:t.generateRandomAvatar(n.assignee),alt:"avatar",id:"lead-avatar"})}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Manager :"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.full_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-sm"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Source"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.source})]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("hr",{id:"lead-break-md"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Customer"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"New"===n.customer_type?n.prospect:n.customer_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-outer"}),Object(a.jsx)(m.g,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.region}),Object(a.jsx)("br",{}),Object(a.jsx)(m.e,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.division_name}),Object(a.jsx)("br",{}),Object(a.jsx)(m.h,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[e," ",Object.values(n.pipeline).reduce((function(e,t){return parseInt(e)+parseInt(t)}))]}),Object(a.jsx)("br",{}),Object(a.jsx)(m.c,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[v(n.created_on)," days old"]}),Object(a.jsx)(i.b,{to:"/sales/editlead/".concat(n.lead_id),children:Object(a.jsx)(h.i,{size:20,style:{float:"right",marginRight:"20px"}})})]})]})})}))]}),Object(a.jsxs)("div",{className:"column",id:"lead-container-main",children:[Object(a.jsx)("div",{id:"heading-container",className:"row justify-content-center",style:{backgroundColor:"#E76F51",color:"white"},children:Object(a.jsx)("p",{id:"heading-text",children:"Lost / Cold"})}),g.map((function(n){return Object(a.jsx)("div",{id:"content-container",className:"row",style:{backgroundColor:"#FCEDE9",color:"black"},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("img",{src:t.generateRandomAvatar(n.assignee),alt:"avatar",id:"lead-avatar"})}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Manager :"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.full_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-sm"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Lead Source"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:n.source})]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("hr",{id:"lead-break-md"}),Object(a.jsx)("strong",{children:Object(a.jsx)("span",{children:"Customer"})}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"New"===n.customer_type?n.prospect:n.customer_name}),Object(a.jsx)("br",{}),Object(a.jsx)("hr",{id:"lead-break-outer"}),Object(a.jsx)(m.g,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.region}),Object(a.jsx)("br",{}),Object(a.jsx)(m.e,{size:25,id:"lead-sum-icon"}),Object(a.jsx)("span",{children:n.division_name}),Object(a.jsx)("br",{}),Object(a.jsx)(m.h,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[e," ",Object.values(n.pipeline).reduce((function(e,t){return parseInt(e)+parseInt(t)}))]}),Object(a.jsx)("br",{}),Object(a.jsx)(m.c,{size:25,id:"lead-sum-icon"}),Object(a.jsxs)("span",{children:[v(n.created_on)," days old"]}),Object(a.jsx)(i.b,{to:"/sales/editlead/".concat(n.lead_id),children:Object(a.jsx)(h.i,{size:20,style:{float:"right",marginRight:"20px"}})})]})]})})}))]})]})})},An=function(){var e=Object(H.g)().id,t=Object(H.f)(),n=Object(o.b)().user,r=(new Date).getMonth(),s=Object(c.useState)(!0),l=Object(d.a)(s,2),j=l[0],u=l[1],b=Object(c.useState)([]),h=Object(d.a)(b,2),O=h[0],x=h[1],p=Object(c.useState)(),m=Object(d.a)(p,2),f=m[0],g=m[1],v=Object(c.useState)(),y=Object(d.a)(v,2),w=y[0],S=y[1],k=Object(c.useState)([]),C=Object(d.a)(k,2),N=C[0],D=C[1],M=Object(c.useState)(),T=Object(d.a)(M,2),E=T[0],F=T[1],L=Object(c.useState)(),P=Object(d.a)(L,2),I=P[0],q=P[1],z=Object(c.useState)([]),B=Object(d.a)(z,2),U=B[0],K=B[1],W=Object(c.useState)(),G=Object(d.a)(W,2),Y=G[0],J=G[1],V=Object(c.useState)(),Q=Object(d.a)(V,2),$=Q[0],X=Q[1],Z=Object(c.useState)(),ee=Object(d.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(c.useState)([]),ce=Object(d.a)(ae,2),re=ce[0],ie=ce[1],se=Object(c.useState)(),le=Object(d.a)(se,2),oe=le[0],je=le[1],de=Object(c.useState)(),ue=Object(d.a)(de,2),be=ue[0],he=ue[1],Oe=Object(c.useState)(0),xe=Object(d.a)(Oe,2),pe=xe[0],me=xe[1],fe=Object(c.useState)(0),ve=Object(d.a)(fe,2),ye=ve[0],we=ve[1],Se=Object(c.useState)(0),Ce=Object(d.a)(Se,2),Ne=Ce[0],De=Ce[1],Ae=Object(c.useState)(0),_e=Object(d.a)(Ae,2),Me=_e[0],Te=_e[1],Ee=Object(c.useState)(0),Fe=Object(d.a)(Ee,2),Re=Fe[0],Le=Fe[1],Pe=Object(c.useState)(0),Ie=Object(d.a)(Pe,2),qe=Ie[0],ze=Ie[1],Be=Object(c.useState)(0),He=Object(d.a)(Be,2),Ue=He[0],Ke=He[1],We=Object(c.useState)(0),Ge=Object(d.a)(We,2),Ye=Ge[0],Je=Ge[1],Ve=Object(c.useState)(0),Qe=Object(d.a)(Ve,2),$e=Qe[0],Xe=Qe[1],Ze=Object(c.useState)(0),et=Object(d.a)(Ze,2),tt=et[0],nt=et[1],at=Object(c.useState)(0),ct=Object(d.a)(at,2),rt=ct[0],it=ct[1],st=Object(c.useState)(0),lt=Object(d.a)(st,2),jt=lt[0],Ot=lt[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/salesMarketing");case 2:t=e.sent,K(t.data.salesMarketing.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/");case 2:t=e.sent,x(t.data.customers.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.get("/");case 2:t=e.sent,D(t.data.divisions.rows);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/userId/".concat(n.email));case 2:t=e.sent,ie(t.data.userId.rows[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.email]),Object(c.useEffect)((function(){function t(){return(t=Object(_.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gn.get("/editLead/".concat(e)).then((function(e){ne(e.data.editLead.rows[0].customer_type),S(e.data.editLead.rows[0].region),g(e.data.editLead.rows[0].customer_id),F(e.data.editLead.rows[0].division),q(e.data.editLead.rows[0].source),J(e.data.editLead.rows[0].assignee),X(e.data.editLead.rows[0].status),je(e.data.editLead.rows[0].prospect),he(e.data.editLead.rows[0].likelihood),me(e.data.editLead.rows[0].pipeline.January),we(e.data.editLead.rows[0].pipeline.February),De(e.data.editLead.rows[0].pipeline.March),Te(e.data.editLead.rows[0].pipeline.April),Le(e.data.editLead.rows[0].pipeline.May),ze(e.data.editLead.rows[0].pipeline.June),Ke(e.data.editLead.rows[0].pipeline.July),Je(e.data.editLead.rows[0].pipeline.August),Xe(e.data.editLead.rows[0].pipeline.September),nt(e.data.editLead.rows[0].pipeline.October),it(e.data.editLead.rows[0].pipeline.November),Ot(e.data.editLead.rows[0].pipeline.December),u(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var xt=[{name:"JAN",value:pe},{name:"FEB",value:ye},{name:"MAR",value:Ne},{name:"APR",value:Me},{name:"MAY",value:Re},{name:"JUN",value:qe},{name:"JUL",value:Ue},{name:"AUG",value:Ye},{name:"SEP",value:$e},{name:"OCT",value:tt},{name:"NOV",value:rt},{name:"DEC",value:jt}],pt=function(){var n=Object(_.a)(A.a.mark((function n(a){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,n.next=4,gn.put("/editlead/".concat(e),{customer_type:te,customer_id:f,division:E,assignee:Y,prospect:oe,region:w,source:I,status:$,pipeline:{January:pe,February:ye,March:Ne,April:Me,May:Re,June:qe,July:Ue,August:Ye,September:$e,October:tt,November:rt,December:jt},created_by:re.user_id,likelihood:be});case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:t.push("/sales/leadsummary"),alert("Lead Updated Successfully");case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}();return j?Object(a.jsx)("div",{id:"sales-lead",children:Object(a.jsx)("h5",{children:"Fetching Data..."})}):Object(a.jsxs)("div",{id:"sales-lead",children:[Object(a.jsx)("h5",{id:"lead-title",children:"Update Lead"}),Object(a.jsxs)("div",{id:"lead-input-group",className:"input-group",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{className:"input-group-text",children:"Customer Type"})}),Object(a.jsx)("input",{className:"lead-radio",type:"radio",id:"existing",name:"customerType",value:"Existing",checked:"Existing"===te,onClick:function(e){return ne(e.target.value)}}),Object(a.jsx)("label",{id:"lead-radio-text",for:"existing",children:"Existing"}),Object(a.jsx)("input",{className:"lead-radio",type:"radio",id:"new",name:"customerType",value:"New",checked:"New"===te,onClick:function(e){return ne(e.target.value)}}),Object(a.jsx)("label",{id:"lead-radio-text",for:"new",children:"New"})]}),Object(a.jsxs)(ge.a,{onSubmit:pt,children:[Object(a.jsxs)("table",{className:"table",id:"lead-basic",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Customer"}),Object(a.jsx)("th",{children:"Region"}),Object(a.jsx)("th",{children:"Division"}),Object(a.jsx)("th",{children:"Source"}),Object(a.jsx)("th",{children:"Assign To"}),Object(a.jsx)("th",{children:"Status"})]})}),Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:["Existing"===te?Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:f,className:"form-control",onChange:function(e){return g(e.target.value)},children:[Object(a.jsx)("option",{}),O.map((function(e){return Object(a.jsx)("option",{value:e.customer_id,children:e.customer_name},e.customer_id)}))]})}):Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"enter prospect name",value:oe,onChange:function(e){return je(e.target.value)}})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:w,className:"form-control",onChange:function(e){return S(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"United States",children:"United States"}),Object(a.jsx)("option",{value:"France",children:"France"}),Object(a.jsx)("option",{value:"Canada",children:"Canada"})]})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:E,className:"form-control",onChange:function(e){return F(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),N.map((function(e){return Object(a.jsx)("option",{value:e.division_id,children:e.division_name},e.division_id)}))]})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:I,className:"form-control",onChange:function(e){return q(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Direct Contact",children:"Direct Contact"}),Object(a.jsx)("option",{value:"Website",children:"Website"}),Object(a.jsx)("option",{value:"Phone",children:"Phone"}),Object(a.jsx)("option",{value:"Exhibition",children:"Exhibition"}),Object(a.jsx)("option",{value:"Social Media",children:"Social Media"}),Object(a.jsx)("option",{value:"Referral",children:"Referral"}),Object(a.jsx)("option",{value:"Campaign",children:"Campaign"})]})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:Y,className:"form-control",onChange:function(e){return J(e.target.value)},required:!0,children:[Object(a.jsx)("option",{}),U.map((function(e){return Object(a.jsxs)("option",{value:e.user_id,children:[e.full_name," - ",e.department_name]},e.user_id)}))]})}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{value:$,onChange:function(e){return X(e.target.value)},className:"form-control",required:!0,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"Prospect",children:"Prospect"}),Object(a.jsx)("option",{value:"In Discussions",children:"In Discussions"}),Object(a.jsx)("option",{value:"Proposal Submitted",children:"Proposal Submitted"}),Object(a.jsx)("option",{value:"Won",children:"Won"}),Object(a.jsx)("option",{value:"Aborted",children:"Aborted"})]})})]})})]}),Object(a.jsx)("h5",{id:"lead-title-months",children:"Revenue Distribution (zero value allowed but not blank)"}),Object(a.jsxs)("table",{className:"table",id:"lead-months",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("th",{children:"JAN"}),Object(a.jsx)("th",{children:"FEB"}),Object(a.jsx)("th",{children:"MAR"}),Object(a.jsx)("th",{children:"APR"}),Object(a.jsx)("th",{children:"MAY"}),Object(a.jsx)("th",{children:"JUN"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>0,min:0,value:pe,onChange:function(e){return me(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>1,min:0,value:ye,onChange:function(e){return we(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>2,min:0,value:Ne,onChange:function(e){return De(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>3,min:0,value:Me,onChange:function(e){return Te(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>4,min:0,value:Re,onChange:function(e){return Le(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>5,min:0,value:qe,onChange:function(e){return ze(e.target.value)},required:!0})})]})]}),Object(a.jsxs)("table",{className:"table",id:"lead-months",children:[Object(a.jsxs)("thead",{children:[Object(a.jsx)("th",{children:"JUL"}),Object(a.jsx)("th",{children:"AUG"}),Object(a.jsx)("th",{children:"SEP"}),Object(a.jsx)("th",{children:"OCT"}),Object(a.jsx)("th",{children:"NOV"}),Object(a.jsx)("th",{children:"DEC"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>6,min:0,value:Ue,onChange:function(e){return Ke(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>7,min:0,value:Ye,onChange:function(e){return Je(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>8,min:0,value:$e,onChange:function(e){return Xe(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>9,min:0,value:tt,onChange:function(e){return nt(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>10,min:0,value:rt,onChange:function(e){return it(e.target.value)},required:!0})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",className:"form-control",disabled:r>11,min:0,value:jt,onChange:function(e){return Ot(e.target.value)},required:!0})})]})]}),Object(a.jsx)("div",{id:"lead-submit",children:Object(a.jsx)(i.b,{to:"/sales/leadsummary",children:Object(a.jsx)(ke.a,{variant:"warning",children:"Back to Leads"})})}),Object(a.jsx)("div",{id:"lead-submit",children:Object(a.jsx)(ke.a,{variant:"primary",type:"submit",children:"Update Lead"})}),Object(a.jsxs)("div",{id:"likelihood",children:[Object(a.jsx)("label",{htmlFor:"likely",children:"Likelihood of Conversion (%)"}),Object(a.jsxs)("select",{id:"likely",className:"form-control",required:!0,value:be,onChange:function(e){return he(e.target.value)},disabled:"Won"===$,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"10",children:"10"}),Object(a.jsx)("option",{value:"20",children:"20"}),Object(a.jsx)("option",{value:"30",children:"30"}),Object(a.jsx)("option",{value:"40",children:"40"}),Object(a.jsx)("option",{value:"50",children:"50"}),Object(a.jsx)("option",{value:"60",children:"60"}),Object(a.jsx)("option",{value:"70",children:"70"}),Object(a.jsx)("option",{value:"80",children:"80"}),Object(a.jsx)("option",{value:"90",children:"90"}),Object(a.jsx)("option",{selected:"Won"===$,value:"100",children:"100"})]})]})]}),Object(a.jsxs)("h5",{id:"lead-chart-title",children:["Expected Sales $",xt.reduce((function(e,t){return e+parseInt(t.value)}),0)]}),Object(a.jsx)(ot.a,{width:600,height:200,children:Object(a.jsxs)(Kt.a,{data:xt,children:[Object(a.jsx)(dt.a,{stroke:"lightgrey",strokeDasharray:"2 2"}),Object(a.jsx)(ut.a,{dataKey:"name",tickLine:!1}),Object(a.jsx)(bt.a,{unit:"$",tickLine:!1,domain:[0,Math.max(pe,ye,Ne,Me,Re,qe,Ue,Ye,$e,tt,rt,jt)]}),Object(a.jsx)(ht.a,{contentStyle:kn}),Object(a.jsx)(vt.a,{dataKey:"value",fill:"#2A9D8F"})]})})]})},_n=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/customerData").then((function(e){r(e.data.customerData.rows[0])}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var i=[[Object.keys(n).map((function(e){return{value:e}}))],[Object.values(n).map((function(e){return{value:e}}))]];return console.log(i),Object(a.jsx)("div",{id:"existing-biz",children:Object(a.jsx)("h5",{children:"Existing Business"})})},Mn=["#3066BE","#20A39E","#61D095","#FFBA49","#EF5B5B","#A4036F","#5CADDB","#F2928D"],Tn=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),l=Object(d.a)(s,2),o=l[0],j=l[1],u=Object(c.useState)([]),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)([]),p=Object(d.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)(!0),y=Object(d.a)(v,2),w=y[0],S=y[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/targetsByDivision").then((function(e){r(e.data.targetsByDivision.rows),S(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/targetsByMonth").then((function(e){j(e.data.targetsByMonth.rows[0])}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/targetsByStaff").then((function(e){O(e.data.targetsByStaff.rows)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/targetsByRegion").then((function(e){g(e.data.targetsByRegion.rows)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=n.map((function(e){return{division:Object.values(e)[0],target:parseInt(Object.values(e)[1]/1e3)}})),C=f.map((function(e){return{region:Object.values(e)[0],target:parseInt(Object.values(e)[1]/1e3)}})),N=Object.keys(o).map((function(e){return{month:e.toUpperCase(),target:parseInt(o[e]/1e3)}})),D=h.map((function(e){return{staff:Object.values(e)[1],target:parseInt(Object.values(e)[2]/1e3)}}));return w?Object(a.jsx)("div",{id:"sales-target",children:Object(a.jsx)("h5",{children:"Fetching Data..."})}):Object(a.jsxs)("div",{className:"container",id:"sales-target",children:[Object(a.jsxs)("div",{className:"row justify-content-center",children:[Object(a.jsx)("h5",{style:{fontWeight:"bold",marginRight:"20px",marginTop:"10px",color:"slategray"},children:"View By :"}),Object(a.jsx)(i.b,{to:"/sales/target/division",children:Object(a.jsx)(m.e,{id:"sales-target-icon",size:40,title:"Division"})}),Object(a.jsx)(i.b,{to:"/sales/target/month",children:Object(a.jsx)(m.c,{id:"sales-target-icon",size:40,title:"Month"})}),Object(a.jsx)(i.b,{to:"/sales/target/region",children:Object(a.jsx)(m.g,{id:"sales-target-icon",size:38,title:"Region"})}),Object(a.jsx)(i.b,{to:"/sales/target/staff",children:Object(a.jsx)(m.b,{id:"sales-target-icon",size:38,title:"Salesperson"})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"sales-target-divpie",children:[Object(a.jsx)("u",{children:Object(a.jsx)("h5",{id:"div-target-title",children:"Division wise targets (in USD '000)"})}),Object(a.jsx)(ot.a,{width:"100%",height:"95%",children:Object(a.jsxs)(Ft.a,{children:[Object(a.jsx)(Rt.a,{data:k,label:!0,innerRadius:50,dataKey:"target",nameKey:"division",isAnimationActive:!1,children:k.map((function(e,t){return Object(a.jsx)(yt.a,{fill:Mn[t%Mn.length]},"cell-".concat(t))}))}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn})]})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"sales-target-monthbar",children:[Object(a.jsx)("u",{children:Object(a.jsx)("h5",{id:"div-target-title",children:"Month wise targets (in USD '000)"})}),Object(a.jsx)(ot.a,{width:"100%",height:"95%",children:Object(a.jsxs)(Kt.a,{data:N,margin:{top:0},children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#2A9D8F"}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"sales-target-divpie",children:[Object(a.jsx)("u",{children:Object(a.jsx)("h5",{id:"div-target-title",children:"Region wise targets (in USD '000)"})}),Object(a.jsx)(ot.a,{width:"100%",height:"95%",children:Object(a.jsxs)(Ft.a,{children:[Object(a.jsx)(Rt.a,{data:C,label:!0,innerRadius:50,dataKey:"target",nameKey:"region",isAnimationActive:!1,children:C.map((function(e,t){return Object(a.jsx)(yt.a,{fill:Mn[t%Mn.length]},"cell-".concat(t))}))}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn})]})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"sales-target-staffbar",children:[Object(a.jsx)("u",{children:Object(a.jsx)("h5",{id:"div-target-title",children:"Targets by Salesperson (in USD '000)"})}),Object(a.jsx)(ot.a,{width:"100%",height:"95%",children:Object(a.jsxs)(Kt.a,{data:D,margin:{top:0},layout:"vertical",barSize:20,children:[Object(a.jsx)(ut.a,{type:"number"}),Object(a.jsx)(bt.a,{dataKey:"staff",tickLine:!1,type:"category",scale:"band",width:140}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#264653"}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#264653",opacity:"0.2"}})]})})]})]})},En=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),l=Object(d.a)(s,2),o=l[0],j=l[1],u=Object(c.useState)(!0),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(!0),p=Object(d.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)([]),y=Object(d.a)(v,2),w=y[0],S=y[1],k=Object(c.useState)([]),C=Object(d.a)(k,2),N=C[0],D=C[1],M=Object(c.useState)(!0),T=Object(d.a)(M,2),E=T[0],F=T[1],R=Object(c.useState)([]),L=Object(d.a)(R,2),P=L[0],I=L[1],q=Object(c.useState)(!0),z=Object(d.a)(q,2),B=z[0],H=z[1],U=Object(c.useState)(!0),K=Object(d.a)(U,2),W=K[0],G=K[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/allTargetsMonth").then((function(e){r(e.data.allTargetsMonth.rows[0]),H(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/targetsDivMonth").then((function(e){j(e.data.targetsDivMonth.rows),O(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.get("/").then((function(e){S(e.data.divisions.rows),g(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/allActualsMonth").then((function(e){I(e.data.allActualsMonth.rows),G(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/actualsDivMonth").then((function(e){D(e.data.actualsDivMonth.rows),F(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var Y=function(e){var t=o.filter((function(t){return t.division_name===e}))[0],n=N.map((function(e){return{division_name:e.division_name,month:Q[e.month-1],actual:parseInt(e.actual)}})).filter((function(t){return t.division_name===e}));return Object.keys(t).map((function(e){return{month:e.toUpperCase(),target:parseInt(t[e]/1e3),actual:n.filter((function(t){return t.month===e})).length&&n.filter((function(t){return t.month===e}))[0].actual/1e3}})).filter((function(e){return"DIVISION_NAME"!==e.month}))};function J(e,t,n){switch(n.indexOf(e)){case 0:return n[0][t];case 1:return n[0][t]+n[1][t];case 2:return n[0][t]+n[1][t]+n[2][t];case 3:return n[0][t]+n[1][t]+n[2][t]+n[3][t];case 4:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t];case 5:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t];case 6:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t];case 7:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t];case 8:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t];case 9:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t];case 10:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t]+n[10][t];case 11:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t]+n[10][t]+n[11][t];default:return null}}var V=function(e){var t=o.filter((function(t){return t.division_name===e}))[0],n=N.map((function(e){return{division_name:e.division_name,month:Q[e.month-1],actual:parseInt(e.actual)}})).filter((function(t){return t.division_name===e})),a=Object.keys(t).map((function(e){return{month:e.toUpperCase(),target:parseInt(t[e]/1e3),actual:n.filter((function(t){return t.month===e})).length&&n.filter((function(t){return t.month===e}))[0].actual/1e3}})).filter((function(e){return"DIVISION_NAME"!==e.month}));return a.map((function(e){return{month:e.month,target:J(e,"target",a),actual:J(e,"actual",a)}}))},Q=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];return h||f||E||B||W?Object(a.jsx)("div",{children:"Fetching data..."}):Object(a.jsxs)("div",{className:"container",id:"target-div-month",children:[Object(a.jsxs)("div",{className:"row justify-content-center align-items-center mb-2",children:[Object(a.jsxs)("h5",{className:"mr-5",style:{fontWeight:"bold"},children:["Displaying targets by Division"," "]}),Object(a.jsx)("em",{children:Object(a.jsxs)("h5",{className:"mr-3",style:{fontWeight:"bold",color:"brown"},children:[" ","View instead by :"," "]})}),Object(a.jsx)(i.b,{to:"/sales/target/month",children:Object(a.jsx)(m.c,{id:"sales-target-icon",size:35,title:"Month"})}),Object(a.jsx)(i.b,{to:"/sales/target/region",children:Object(a.jsx)(m.g,{id:"sales-target-icon",size:35,title:"Region"})}),Object(a.jsx)(i.b,{to:"/sales/target/staff",children:Object(a.jsx)(m.b,{id:"sales-target-icon",size:35,title:"Salesperson"})}),Object(a.jsx)(i.b,{to:"/sales/target",children:Object(a.jsx)(ke.a,{className:"btn-sm ml-5",variant:"info",children:"Back"})})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",style:{backgroundColor:"#E0F7F4"},children:[Object(a.jsx)("h6",{id:"div-target-title",children:"ALL DIVISIONS - Monthwise (USD '000)"}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(Kt.a,{margin:{top:0},data:function(){var e=P.map((function(e){return{month:Q[e.month-1],actual:parseInt(e.actual)}}));return Object.keys(n).map((function(t){return{month:t.toUpperCase(),target:parseInt(n[t])/1e3,actual:e.filter((function(e){return e.month===t})).length&&e.filter((function(e){return e.month===t}))[0].actual/1e3}}))}(),children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#F4A261"}),Object(a.jsx)(vt.a,{dataKey:"actual",fill:"#2A9D8F"}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",style:{backgroundColor:"#E0F7F4"},children:[Object(a.jsx)("h6",{id:"div-target-title",children:"ALL DIVISIONS - Cumulative (USD '000)"}),Object(a.jsx)(ot.a,{width:"99%",height:"80%",children:Object(a.jsxs)(jt.a,{margin:{top:0},data:function(){var e=P.map((function(e){return{month:Q[e.month-1],actual:parseInt(e.actual)}})),t=Object.keys(n).map((function(t){return{month:t.toUpperCase(),target:parseInt(n[t])/1e3,actual:e.filter((function(e){return e.month===t})).length&&e.filter((function(e){return e.month===t}))[0].actual/1e3}}));return t.map((function(e){return{month:e.month,target:J(e,"target",t),actual:J(e,"actual",t)}}))}(),children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1,scale:"band"}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(xt.a,{dataKey:"target",stroke:"#F4A261",strokeWidth:2}),Object(a.jsx)(xt.a,{dataKey:"actual",stroke:"#2A9D8F",strokeWidth:2}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]})]}),w.map((function(e){return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[e.division_name," - Monthwise (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(Kt.a,{margin:{top:0},data:Y(e.division_name),children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#F4A261"}),Object(a.jsx)(vt.a,{dataKey:"actual",fill:"#2A9D8F"}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[e.division_name," - Cumulative (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(jt.a,{margin:{top:0},data:V(e.division_name),children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1,scale:"band"}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(xt.a,{dataKey:"target",stroke:"#F4A261",strokeWidth:2}),Object(a.jsx)(xt.a,{dataKey:"actual",stroke:"#2A9D8F",strokeWidth:2}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]})]})}))]})},Fn=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!0),l=Object(d.a)(s,2),o=l[0],j=l[1],u=Object(c.useState)(!0),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)([]),p=Object(d.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)([]),y=Object(d.a)(v,2),w=y[0],S=y[1],k=Object(c.useState)(!0),C=Object(d.a)(k,2),N=C[0],D=C[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/targetsStaffMonth").then((function(e){r(e.data.targetsStaffMonth.rows),j(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R.get("/sales").then((function(e){g(e.data.sales.rows),O(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/actualsStaffMonth").then((function(e){S(e.data.actualsStaffMonth.rows),D(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var M=function(e){var t=n.filter((function(t){return t.full_name===e}))[0],a=w.map((function(e){return{sales_person:e.full_name,month:E[e.month-1],actual:parseInt(e.actual)}})).filter((function(t){return t.sales_person===e}));return Object.keys(t).map((function(e){return{month:e.toUpperCase(),target:parseInt(t[e]/1e3),actual:a.filter((function(t){return t.month===e})).length&&a.filter((function(t){return t.month===e}))[0].actual/1e3}})).filter((function(e){return"FULL_NAME"!==e.month}))},T=function(e){var t=n.filter((function(t){return t.full_name===e}))[0],a=w.map((function(e){return{sales_person:e.full_name,month:E[e.month-1],actual:parseInt(e.actual)}})).filter((function(t){return t.sales_person===e})),c=Object.keys(t).map((function(e){return{month:e.toUpperCase(),target:parseInt(t[e]/1e3),actual:a.filter((function(t){return t.month===e})).length&&a.filter((function(t){return t.month===e}))[0].actual/1e3}})).filter((function(e){return"FULL_NAME"!==e.month}));function r(e,t,n){switch(n.indexOf(e)){case 0:return n[0][t];case 1:return n[0][t]+n[1][t];case 2:return n[0][t]+n[1][t]+n[2][t];case 3:return n[0][t]+n[1][t]+n[2][t]+n[3][t];case 4:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t];case 5:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t];case 6:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t];case 7:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t];case 8:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t];case 9:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t];case 10:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t]+n[10][t];case 11:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t]+n[10][t]+n[11][t];default:return null}}return c.map((function(e){return{month:e.month,target:r(e,"target",c),actual:r(e,"actual",c)}}))},E=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];return o||h||N?Object(a.jsx)("div",{children:"Fetching data..."}):Object(a.jsxs)("div",{className:"container",id:"target-div-month",children:[Object(a.jsxs)("div",{className:"row justify-content-center align-items-center mb-2",children:[Object(a.jsx)("h5",{className:"mr-5",style:{fontWeight:"bold"},children:"Displaying targets by Staff "}),Object(a.jsx)("em",{children:Object(a.jsx)("h5",{className:"mr-3",style:{fontWeight:"bold",color:"brown"},children:" View instead by : "})}),Object(a.jsx)(i.b,{to:"/sales/target/division",children:Object(a.jsx)(m.e,{id:"sales-target-icon",size:35,title:"Division"})}),Object(a.jsx)(i.b,{to:"/sales/target/month",children:Object(a.jsx)(m.c,{id:"sales-target-icon",size:35,title:"Month"})}),Object(a.jsx)(i.b,{to:"/sales/target/region",children:Object(a.jsx)(m.g,{id:"sales-target-icon",size:35,title:"Region"})}),Object(a.jsx)(i.b,{to:"/sales/target",children:Object(a.jsx)(ke.a,{className:"btn-sm ml-5",variant:"info",children:"Back"})})]}),f.map((function(e){return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[e.full_name," - Monthwise (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(Kt.a,{margin:{top:0},data:M(e.full_name),children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#F4A261"}),Object(a.jsx)(vt.a,{dataKey:"actual",fill:"#2A9D8F"}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[e.full_name," - Cumulative (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(jt.a,{margin:{top:0},data:T(e.full_name),children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1,scale:"band"}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(xt.a,{dataKey:"target",stroke:"#F4A261",strokeWidth:2}),Object(a.jsx)(xt.a,{dataKey:"actual",stroke:"#2A9D8F",strokeWidth:2}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]})]})})),";"]})},Rn=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!0),l=Object(d.a)(s,2),o=l[0],j=l[1],u=Object(c.useState)(!0),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)([]),p=Object(d.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)([]),y=Object(d.a)(v,2),w=y[0],S=y[1],k=Object(c.useState)(!0),C=Object(d.a)(k,2),N=C[0],D=C[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/targetsRegionMonth").then((function(e){r(e.data.targetsRegionMonth.rows),j(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/salesRegions").then((function(e){g(e.data.salesRegions.rows),O(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn.get("/actualsRegionMonth").then((function(e){S(e.data.actualsRegionMonth.rows),D(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var M=function(e){var t=n.filter((function(t){return t.country===e}))[0],a=w.map((function(e){return{country:e.country,month:E[e.month-1],actual:parseInt(e.actual)}})).filter((function(t){return t.country===e}));return Object.keys(t).map((function(e){return{month:e.toUpperCase(),target:parseInt(t[e]/1e3),actual:a.filter((function(t){return t.month===e})).length&&a.filter((function(t){return t.month===e}))[0].actual/1e3}})).filter((function(e){return"COUNTRY"!==e.month}))},T=function(e){var t=n.filter((function(t){return t.country===e}))[0],a=w.map((function(e){return{country:e.country,month:E[e.month-1],actual:parseInt(e.actual)}})).filter((function(t){return t.country===e})),c=Object.keys(t).map((function(e){return{month:e.toUpperCase(),target:parseInt(t[e]/1e3),actual:a.filter((function(t){return t.month===e})).length&&a.filter((function(t){return t.month===e}))[0].actual/1e3}})).filter((function(e){return"COUNTRY"!==e.month}));function r(e,t,n){switch(n.indexOf(e)){case 0:return n[0][t];case 1:return n[0][t]+n[1][t];case 2:return n[0][t]+n[1][t]+n[2][t];case 3:return n[0][t]+n[1][t]+n[2][t]+n[3][t];case 4:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t];case 5:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t];case 6:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t];case 7:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t];case 8:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t];case 9:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t];case 10:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t]+n[10][t];case 11:return n[0][t]+n[1][t]+n[2][t]+n[3][t]+n[4][t]+n[5][t]+n[6][t]+n[7][t]+n[8][t]+n[9][t]+n[10][t]+n[11][t];default:return null}}return c.map((function(e){return{month:e.month,target:r(e,"target",c),actual:r(e,"actual",c)}}))},E=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];return o||h||N?Object(a.jsx)("div",{children:"Fetching data..."}):Object(a.jsxs)("div",{className:"container",id:"target-div-month",children:[Object(a.jsxs)("div",{className:"row justify-content-center align-items-center mb-2",children:[Object(a.jsxs)("h5",{className:"mr-5",style:{fontWeight:"bold"},children:["Displaying targets by Region"," "]}),Object(a.jsx)("em",{children:Object(a.jsxs)("h5",{className:"mr-3",style:{fontWeight:"bold",color:"brown"},children:[" ","View instead by :"," "]})}),Object(a.jsx)(i.b,{to:"/sales/target/division",children:Object(a.jsx)(m.e,{id:"sales-target-icon",size:35,title:"Division"})}),Object(a.jsx)(i.b,{to:"/sales/target/month",children:Object(a.jsx)(m.c,{id:"sales-target-icon",size:35,title:"Month"})}),Object(a.jsx)(i.b,{to:"/sales/target/staff",children:Object(a.jsx)(m.b,{id:"sales-target-icon",size:35,title:"Salesperson"})}),Object(a.jsx)(i.b,{to:"/sales/target",children:Object(a.jsx)(ke.a,{className:"btn-sm ml-5",variant:"info",children:"Back"})})]}),f.map((function(e){return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[e.region_name," - Monthwise (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(Kt.a,{margin:{top:0},data:M(e.region_name),children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#F4A261"}),Object(a.jsx)(vt.a,{dataKey:"actual",fill:"#2A9D8F"}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[e.region_name," - Cumulative (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(jt.a,{margin:{top:0},data:T(e.region_name),children:[Object(a.jsx)(ut.a,{dataKey:"month",tickLine:!1,scale:"band"}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(xt.a,{dataKey:"target",stroke:"#F4A261",strokeWidth:2}),Object(a.jsx)(xt.a,{dataKey:"actual",stroke:"#2A9D8F",strokeWidth:2}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]})]})})),";"]})},Ln=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),l=Object(d.a)(s,2),o=l[0],j=l[1],u=Object(c.useState)([]),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(!0),p=Object(d.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)(!0),y=Object(d.a)(v,2),w=y[0],S=y[1],k=Object(c.useState)(!0),C=Object(d.a)(k,2),N=C[0],D=C[1],M=Object(c.useState)([]),T=Object(d.a)(M,2),E=T[0],F=T[1],R=Object(c.useState)([]),L=Object(d.a)(R,2),P=L[0],I=L[1],q=Object(c.useState)([]),z=Object(d.a)(q,2),B=z[0],H=z[1],U=Object(c.useState)(!0),K=Object(d.a)(U,2),W=K[0],G=K[1],J=Object(c.useState)(!0),V=Object(d.a)(J,2),Q=V[0],$=V[1],X=Object(c.useState)(!0),Z=Object(d.a)(X,2),ee=Z[0],te=Z[1],ne=Object(c.useState)(Object(Y.default)(new Date,"MMM").toLowerCase()),ae=Object(d.a)(ne,2),ce=ae[0],re=ae[1];Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/targetsDivMonth").then((function(e){r(e.data.targetsDivMonth.rows),g(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/targetsStaffMonth").then((function(e){j(e.data.targetsStaffMonth.rows),S(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/targetsRegionMonth").then((function(e){O(e.data.targetsRegionMonth.rows),D(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/actualsDivMonth").then((function(e){F(e.data.actualsDivMonth.rows),G(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/actualsStaffMonth").then((function(e){I(e.data.actualsStaffMonth.rows),$(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn.get("/actualsRegionMonth").then((function(e){H(e.data.actualsRegionMonth.rows),te(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var ie=!f&&!w&&!N&&!W&&!Q&&!ee,se=[{name:"jan",color:"#DEEBF0"},{name:"feb",color:"#FCF8EC"},{name:"mar",color:"#FCEDE9"},{name:"apr",color:"#E0F7F4"},{name:"may",color:"#FEF4EB"},{name:"jun",color:"#DEEBF0"},{name:"jul",color:"#FCF8EC"},{name:"aug",color:"#FCEDE9"},{name:"sep",color:"#E0F7F4"},{name:"oct",color:"#FEF4EB"},{name:"nov",color:"#DEEBF0"},{name:"dec",color:"#FCF8EC"}];return Object(a.jsxs)("div",{className:"container",id:"target-div-month",children:[Object(a.jsxs)("div",{className:"row justify-content-center align-items-center mb-4",children:[Object(a.jsxs)("h5",{className:"mr-5",style:{fontWeight:"bold",marginTop:"5px"},children:["Displaying targets by MONTH"," "]}),Object(a.jsx)("em",{children:Object(a.jsxs)("h5",{className:"mr-3",style:{fontWeight:"bold",color:"brown",marginTop:"5px"},children:[" ","View instead by :"," "]})}),Object(a.jsx)(i.b,{to:"/sales/target/division",children:Object(a.jsx)(m.e,{id:"sales-target-icon",size:35,title:"Division"})}),Object(a.jsx)(i.b,{to:"/sales/target/region",children:Object(a.jsx)(m.g,{id:"sales-target-icon",size:35,title:"Region"})}),Object(a.jsx)(i.b,{to:"/sales/target/staff",children:Object(a.jsx)(m.b,{id:"sales-target-icon",size:35,title:"Salesperson"})}),Object(a.jsx)(i.b,{to:"/sales/target",children:Object(a.jsx)(ke.a,{className:"btn-sm mr-5",variant:"info",children:"Back"})}),Object(a.jsx)("h5",{style:{fontWeight:"bold",marginTop:"5px"},children:"Select Month"}),Object(a.jsx)("select",{value:ce,onChange:function(e){return re(e.target.value)},className:"form-control ml-3",style:{width:"100px"},children:se.map((function(e){return Object(a.jsx)("option",{value:e.name,children:e.name.toUpperCase()})}))})]}),ie?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[ce.toUpperCase()," - Division wise (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(Kt.a,{margin:{top:0},data:function(e){var t=E.map((function(e){return{division:e.division_name,month:se[e.month-1].name,actual:parseInt(e.actual)}})).filter((function(e){return e.month===ce}));return n.map((function(n){return{division:n.division_name,target:parseInt(n[e])/1e3,actual:t.filter((function(e){return e.division===n.division_name})).length&&t.filter((function(e){return e.division===n.division_name}))[0].actual/1e3}}))}(ce),children:[Object(a.jsx)(ut.a,{dataKey:"division",tickLine:!1}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#F4A261"}),Object(a.jsx)(vt.a,{dataKey:"actual",fill:"#2A9D8F"}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]}),Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[ce.toUpperCase()," - Region wise (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"80%",children:Object(a.jsxs)(Kt.a,{margin:{top:0},data:function(e){var t=B.map((function(e){return{region:e.country,month:se[e.month-1].name,actual:parseInt(e.actual)}})).filter((function(e){return e.month===ce}));return h.map((function(n){return{country:n.country,target:parseInt(n[e])/1e3,actual:t.filter((function(e){return e.region===n.country})).length&&t.filter((function(e){return e.region===n.country}))[0].actual/1e3}}))}(ce),children:[Object(a.jsx)(ut.a,{dataKey:"country",tickLine:!1}),Object(a.jsx)(bt.a,{}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#F4A261"}),Object(a.jsx)(vt.a,{dataKey:"actual",fill:"#2A9D8F"}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)(Le.a,{elevation:5,id:"target-divmonth-bar",style:{height:"500px"},children:[Object(a.jsxs)("h6",{id:"div-target-title",children:[ce.toUpperCase()," - Staff wise (USD '000)"]}),Object(a.jsx)(ot.a,{width:"100%",height:"90%",children:Object(a.jsxs)(Kt.a,{margin:{top:0},data:function(e){var t=P.map((function(e){return{name:e.full_name,month:se[e.month-1].name,actual:parseInt(e.actual)}})).filter((function(e){return e.month===ce}));return o.map((function(n){return{name:n.full_name,target:parseInt(n[e])/1e3,actual:t.filter((function(e){return e.name===n.full_name})).length&&t.filter((function(e){return e.name===n.full_name}))[0].actual/1e3}}))}(ce),layout:"vertical",children:[Object(a.jsx)(ut.a,{type:"number"}),Object(a.jsx)(bt.a,{dataKey:"name",tickLine:!1,type:"category",width:140,scale:"band"}),Object(a.jsx)(vt.a,{dataKey:"target",fill:"#F4A261"}),Object(a.jsx)(vt.a,{dataKey:"actual",fill:"#2A9D8F"}),Object(a.jsx)(Ot.a,{}),Object(a.jsx)(ht.a,{contentStyle:kn,cursor:{fill:"#2A9D8F",opacity:"0.2"}})]})})]}),Object(a.jsx)(Le.a,{elevation:5,id:"target-divmonth-bar",children:Object(a.jsxs)("h6",{id:"div-target-title",children:[ce.toUpperCase()," - SUMMARY"]})})]})]}):Object(a.jsx)("div",{children:Object(a.jsx)("h5",{children:"Fetching Data....."})})]})},Pn=function(){var e=Object(H.h)().path;return Object(a.jsxs)(H.c,{children:[Object(a.jsx)(H.a,{path:e+"customers",exact:!0,component:wn}),Object(a.jsx)(H.a,{path:e+"createlead",exact:!0,component:Cn}),Object(a.jsx)(H.a,{path:e+"customers/:id",exact:!0,component:Nn}),Object(a.jsx)(H.a,{path:e+"leadsummary",exact:!0,component:Dn}),Object(a.jsx)(H.a,{path:e+"editlead/:id",exact:!0,component:An}),Object(a.jsx)(H.a,{path:e+"existing",exact:!0,component:_n}),Object(a.jsx)(H.a,{path:e+"target",exact:!0,component:Tn}),Object(a.jsx)(H.a,{path:e+"target/division",exact:!0,component:En}),Object(a.jsx)(H.a,{path:e+"target/staff",exact:!0,component:Fn}),Object(a.jsx)(H.a,{path:e+"target/region",exact:!0,component:Rn}),Object(a.jsx)(H.a,{path:e+"target/month",exact:!0,component:Ln})]})},In=(n(828),function(e){var t=e.isExpired;return Object(a.jsx)("div",{id:"not-main",children:Object(a.jsxs)(Le.a,{id:"event-modal",elevation:4,children:[Object(a.jsx)("h5",{style:{textAlign:"center",fontWeight:"bold"},children:"Event Details"}),Object(a.jsx)("hr",{style:{width:"100%",borderColor:"lightgrey"}}),Object(a.jsx)("h6",{id:"event-modal-title",children:"Review of notifications module of Tangible"}),Object(a.jsx)("hr",{style:{width:"100%",borderColor:"lightgrey"}}),Object(a.jsx)("p",{style:{textAlign:"center",color:"red",display:t?"block":"none"},children:"This event has expired"}),Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(a.jsxs)("h4",{style:{color:"#457F96"},children:[Object(Y.default)(new Date,"do MMM, HH:MM")," ",Object(a.jsx)(Pe.a,{size:30,color:"brown",style:{marginBottom:"7px"}})," ",Object(Y.default)(new Date,"do MMM, HH:MM")," "]})}),Object(a.jsxs)("div",{id:"participant-container",children:[Object(a.jsxs)("div",{id:"event-participants",className:"row",children:[Object(a.jsx)(G.f,{size:35,color:"#2A9D8F"}),Object(a.jsx)("h6",{style:{textAlign:"center",fontWeight:"bold",marginLeft:"10px",marginTop:"7px"},children:"Participants"})]}),Object(a.jsx)("div",{id:"participant-list",className:"row",children:[{name:"Malyaj Kaloni"},{name:"Anshika Khaitan"},{name:"Bruce Wayne"},{name:"Clark Kent"},{name:"Peter Parker"},{name:"Chanakya"},{name:"Birbal"},{name:"Tenali Raman"},{name:"Naseeruddin Hoja"},{name:"Suppandi"},{name:"Malyaj Kaloni"},{name:"Anshika Khaitan"},{name:"Bruce Wayne"},{name:"Clark Kent"},{name:"Peter Parker"},{name:"Chanakya"},{name:"Birbal"},{name:"Tenali Raman"},{name:"Naseeruddin Hoja"},{name:"Suppandi"}].map((function(e){return Object(a.jsx)("p",{id:"event-invitee",children:e.name})}))})]}),Object(a.jsxs)("div",{style:{marginTop:"10px",textAlign:"center"},children:[Object(a.jsx)(x.c,{color:"red",size:30,style:{cursor:"pointer"},onClick:function(){}}),Object(a.jsx)(x.b,{size:40,style:{marginLeft:"20px",cursor:"pointer"},color:"#457F96",onClick:function(){}})]})]})})}),qn=function(){var e=Object(H.h)().path;return Object(a.jsx)(H.c,{children:Object(a.jsx)(H.a,{path:e,exact:!0,component:In})})},zn=n(501),Bn=n(500),Hn=F.a.create({baseURL:"http://localhost:5000/api/chats"}),Un=(n(324),function(e){var t=e.chatId,n=e.handleClose,r=e.showChat,i=e.incoming,s=e.updateChat,l=e.alertState,o=Object(c.useContext)(j),u=new M.AvatarGenerator,b=Object(c.useState)([]),O=Object(d.a)(b,2),x=O[0],m=O[1],f=Object(c.useState)(!0),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)([]),S=Object(d.a)(w,2),k=S[0],C=S[1],N=Object(c.useState)(!0),D=Object(d.a)(N,2),T=D[0],E=D[1],F=Object(c.useState)([]),L=Object(d.a)(F,2),P=L[0],I=L[1],q=Object(c.useState)(!0),z=Object(d.a)(q,2),B=z[0],H=z[1],U=Object(c.useState)(""),K=Object(d.a)(U,2),W=K[0],G=K[1];Object(c.useEffect)((function(){if(t){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.get("/selectedChat/".concat(t)).then((function(e){C(e.data.selectedChat.rows[0]),E(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}}),[t]),Object(c.useEffect)((function(){if(t){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.get("/messageWindowFeed/".concat(t)).then((function(e){m(e.data.messageWindowFeed.rows),y(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}}),[t,x]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/fullNames").then((function(e){I(e.data.fullNames.rows),H(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var J=function(){var e=Object(_.a)(A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Hn.post("/newMessage",{message:W,sender:o,chat_id:t});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),alert("Could not create message"),console.log(e.t0);case 10:G(""),m((function(e){return[].concat(Object(_e.a)(x),[W])})),i(!0),s(t),l(!0);case 15:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return!t||v||B||T?null:Object(a.jsxs)(Le.a,{id:"single-chat-expand",elevation:5,style:{display:r?"block":"none"},children:[Object(a.jsxs)("div",{id:"single-chat-expand-header",children:[k.is_private?Object(a.jsx)("img",{src:k.creator===o?u.generateRandomAvatar(k.receiver.filter((function(e){return e!==o}))[0]):u.generateRandomAvatar(k.creator),alt:"chatter",id:"chat-avatar-expand"}):Object(a.jsx)("div",{id:"group-info","data-tooltip":"group-info",children:Object(a.jsx)(Bn.a,{size:32,style:{marginTop:"6px",marginLeft:"10px"}})}),Object(a.jsxs)("p",{style:{fontSize:"1.1rem",marginLeft:"60px",marginTop:"-27px"},children:[o===k.creator?P.filter((function(e){return e.user_id===k.receiver.filter((function(e){return e!==o}))[0]}))[0].full_name:P.filter((function(e){return e.user_id===k.creator}))[0].full_name," ",k.is_private?null:" + ".concat(k.receiver.length-2),Object(a.jsx)("span",{style:{float:"right",marginRight:"15px",cursor:"pointer"},onClick:n,children:Object(a.jsx)(p.b,{size:25})}),Object(a.jsx)("span",{style:{float:"right",marginRight:"15px",cursor:"pointer"},children:Object(a.jsx)(Pe.c,{size:25})})]})]}),Object(a.jsx)("div",{id:"single-chat-expand-body",children:x.map((function(e){return e.sender===o?Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"column col-xs-4",style:{marginTop:"5px"},children:Object(a.jsx)("img",{src:u.generateRandomAvatar(e.sender),alt:"chatter",id:"my-single-chat-avatar"})}),Object(a.jsxs)("div",{className:"column col-md-10",children:[Object(a.jsx)("p",{id:"my-message",children:e.message}),Object(a.jsx)("p",{id:"my-message-timestamp",children:Object(Y.default)(new Date(e.timestamp),"HH:MM")})]})]},e.message_id):Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"column col-md-10",children:Object(a.jsxs)("p",{id:"other-message",children:[Object(a.jsx)("span",{id:"other-message-timestamp"})," ",e.message]})}),Object(a.jsx)("div",{className:"column col-xs-4",style:{marginTop:"5px"},children:Object(a.jsx)("img",{src:u.generateRandomAvatar(e.sender),alt:"chatter",id:"other-single-chat-avatar"})})]},e.message_id)}))}),Object(a.jsxs)(ge.a,{className:"row",id:"chat-send-container",children:[Object(a.jsx)("div",{className:"column",style:{width:"75%",marginLeft:"5px",marginTop:"5px",marginBottom:"5px"},children:Object(a.jsx)(we.a,{as:"textarea",rows:3,id:"chat-input",placeholder:"write something...",value:W,onChange:function(e){return G(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&J()}})}),Object(a.jsxs)("div",{className:"column",style:{marginLeft:"15px",marginTop:"7px"},children:[Object(a.jsxs)("div",{className:"row",style:{height:"50%",alignContent:"center"},children:[Object(a.jsx)("div",{className:"mr-4 ml-2",children:Object(a.jsx)(Pe.b,{size:25,color:"darkslategrey"})}),Object(a.jsx)(h.j,{size:25,color:"#E76F51"})]}),Object(a.jsx)("div",{className:"row",style:{height:"50%",marginLeft:"-10px"},children:Object(a.jsxs)(ke.a,{variant:"dark",id:"chat-send",type:"submit",onClick:J,children:[Object(a.jsx)(Pe.d,{size:20})," Send"]})})]})]})]})}),Kn=function(e){var t=Object(c.useContext)(j),n=e.visible,r=e.handleClose,i=Object(o.b)().user,s=Object(c.useState)([]),l=Object(d.a)(s,2),u=l[0],b=l[1],O=Object(c.useState)([]),x=Object(d.a)(O,2),m=x[0],f=x[1],g=Object(c.useState)([]),v=Object(d.a)(g,2),y=v[0],w=v[1],S=Object(c.useState)(!0),k=Object(d.a)(S,2),C=k[0],N=k[1],D=Object(c.useState)(!0),M=Object(d.a)(D,2),T=M[0],E=M[1],F=Object(c.useState)([]),L=Object(d.a)(F,2),P=L[0],I=L[1],q=Object(c.useState)(!0),z=Object(d.a)(q,2),B=z[0],H=z[1],U=Object(c.useState)(),K=Object(d.a)(U,2),W=K[0],G=K[1],Y=Object(c.useRef)(),J=Object(c.useReducer)((function(e,t){switch(t.type){case"add":return[].concat(Object(_e.a)(e),[{id:e.length,name:t.name}]);case"remove":return e.filter((function(e,n){return n!==t.index}));case"empty":return[];default:return e}}),[]),V=Object(d.a)(J,2),Q=V[0],$=V[1],X=Object(c.useState)({active:0,filtered:[],displayUsers:!1,inputValue:""}),Z=Object(d.a)(X,2),ee=Z[0],te=Z[1],ne=function(e){te({active:0,filtered:[],displayUsers:!1,inputValue:e.currentTarget.innerText}),Y.current.value="",ae(e.currentTarget.innerText)};function ae(e){$({type:"add",name:e})}function ce(){r(),G(""),$({type:"empty",name:""})}Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/fullNames").then((function(e){f(e.data.fullNames.rows),N(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){w(Q.map((function(e){return e.name})))}),[Q]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/userId/".concat(i.email)).then((function(e){b(e.data.userId.rows[0]),E(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i.email]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.get("/allChats/".concat(t)).then((function(e){I(e.data.allChatsByUser.rows),H(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var re=y.map((function(e){return m.filter((function(t){return t.full_name===e}))[0].user_id}));re.push(t);var ie=re.length>1&&P.filter((function(e){return JSON.stringify(e.receiver.sort())===JSON.stringify(re.sort())})),se=function(){var e=Object(_.a)(A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!ie.length){e.next=6;break}return e.next=4,Hn.post("/newMessage",{chat_id:ie[0].chat_id,sender:t,message:W});case 4:e.next=14;break;case 6:return e.prev=6,e.next=9,Hn.post("/newChat",{is_private:!(Object(_e.a)(new Set(re)).length>2),creator:u.user_id,receiver:Object(_e.a)(new Set(re))}).then((function(e){200===e.status?(alert("New Chat Created !"),Hn.post("/newMessage",{chat_id:e.data.newChat.rows[0].chat_id,sender:u.user_id,message:W})):e.status>399&&e.status<500?alert("Failed to create chat. Please check all fields before retrying"):e.status>499&&e.status<600&&alert("Server error. Please try after some time")}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),e.t0&&alert("Could not create new Chat");case 14:ce();case 15:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}();return!T&&!C&&!B?Object(a.jsxs)(Le.a,{id:"new-msg-container",elevation:5,style:{display:n?"block":"none"},children:[Object(a.jsxs)("div",{id:"new-msg-header",className:"row",children:[Object(a.jsx)("p",{style:{fontSize:"1.1rem",marginTop:"3px"},children:"New Message"}),Object(a.jsx)("span",{style:{float:"right",marginLeft:"auto",marginBottom:"12px"},children:Object(a.jsx)(p.b,{size:30,onClick:ce,style:{cursor:"pointer"}})})]}),Object(a.jsxs)(ge.a,{onSubmit:se,children:[Object(a.jsxs)("div",{id:"new-msg-body",children:[Object(a.jsx)(we.a,{ref:Y,type:"text",className:"form-control",placeholder:"search a colleague . . .",value:Y.current&&Y.current.value||"",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",onChange:function(e){var t=e.currentTarget.value,n=m.filter((function(e){return e.full_name.toLowerCase().includes(t.toLowerCase())}));te({active:0,filtered:n,displayUsers:!0,inputValue:e.currentTarget.value})},onKeyDown:function(e){var t=ee.active,n=ee.filtered;Y.current.value||13!==e.keyCode?n.length||13!==e.keyCode?13===e.keyCode&&(te({active:0,filtered:[],displayUsers:!1,inputValue:n[t].full_name}),Y.current.value="",ae(n[t].full_name)):alert("User does not exist !"):alert("Please select a user !")}}),ee.displayUsers&&ee.inputValue.length&&ee.filtered.length?Object(a.jsx)(Le.a,{elevation:3,id:"user-dropdown",children:ee.filtered.map((function(e){return Object(a.jsx)("ul",{style:{listStyleType:"none"},children:Object(a.jsx)("li",{onClick:ne,value:e.user_id,id:"user-dropdown-item",children:e.full_name},e.user_id)},e.user_id)})).slice(0,10)}):null,Object(a.jsx)("div",{id:"collect-users",children:y.map((function(e,t){return Object(a.jsxs)("span",{id:"selected-user",value:e,children:[e," ",Object(a.jsx)(p.b,{color:"yellow",size:17,style:{marginBottom:"2px",marginLeft:"2px",cursor:"pointer"},onClick:function(){return $({type:"remove",index:t})}})]},e.user_id)}))})]}),Object(a.jsxs)("div",{className:"row",id:"chat-send-container",children:[Object(a.jsx)("div",{className:"column",style:{width:"75%",marginLeft:"5px",marginTop:"5px",marginBottom:"5px"},children:Object(a.jsx)(we.a,{as:"textarea",rows:3,id:"chat-input",value:W,onChange:function(e){return G(e.target.value)}})}),Object(a.jsxs)("div",{className:"column",style:{marginLeft:"15px",marginTop:"7px"},children:[Object(a.jsxs)("div",{className:"row",style:{height:"50%",alignContent:"center"},children:[Object(a.jsx)("div",{className:"mr-4 ml-2",children:Object(a.jsx)(Pe.b,{size:25,color:"darkslategrey"})}),Object(a.jsx)(h.j,{size:25,color:"#E76F51"})]}),Object(a.jsx)("div",{className:"row",style:{height:"50%",marginLeft:"-6px"},children:Object(a.jsxs)(ke.a,{variant:"dark",id:"chat-send",type:"submit",disabled:!W,children:[Object(a.jsx)(Pe.d,{size:20})," Send"]})})]})]})]})]}):null},Wn=function(e){var t=Object(c.useContext)(j),n=new M.AvatarGenerator,r=Object(c.useState)(!1),i=Object(d.a)(r,2),s=i[0],l=i[1],o=Object(c.useState)(),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(c.useState)(!1),f=Object(d.a)(m,2),g=f[0],v=f[1],y=function(){v(!g),ie(!1)},w=Object(c.useState)(),S=Object(d.a)(w,2),k=S[0],C=S[1],N=Object(c.useState)(!0),D=Object(d.a)(N,2),T=D[0],E=D[1],F=Object(c.useState)(!1),L=Object(d.a)(F,2),P=L[0],I=L[1],q=function(){return I(!0)},z=Object(c.useState)([]),B=Object(d.a)(z,2),H=B[0],U=B[1],K=Object(c.useState)(!0),W=Object(d.a)(K,2),G=W[0],J=W[1],V=Object(c.useState)([]),Q=Object(d.a)(V,2),$=Q[0],X=Q[1],Z=Object(c.useState)(!0),ee=Object(d.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(c.useState)(!1),ce=Object(d.a)(ae,2),re=ce[0],ie=ce[1];return Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.get("/chatWindowFeed/".concat(t)).then((function(e){U(e.data.chatWindowFeed.rows),J(!1),l(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s,t]),Object(c.useEffect)((function(){function e(){return(e=Object(_.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/fullNames").then((function(e){X(e.data.fullNames.rows),ne(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),G||te?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Le.a,{id:"chat-collapse",className:"row",style:{display:g?"none":"flex"},elevation:3,children:[Object(a.jsx)("img",{id:"chat-avatar",src:n.generateRandomAvatar(t),alt:"profile pic"}),Object(a.jsxs)("p",{style:{paddingTop:"10px",marginLeft:"10px",fontSize:"1.1rem"},children:["Chats (",H.length,")"]}),Object(a.jsx)(zn.a,{color:"cyan",size:20,style:{marginBottom:"10px",marginLeft:"10px",display:re?"block":"none",cursor:"pointer"},onClick:y}),Object(a.jsx)("div",{style:{marginLeft:"auto",marginBottom:"9px"},children:Object(a.jsx)(O.e,{size:30,cursor:"pointer",onClick:q})}),Object(a.jsx)("div",{onClick:y,style:{marginLeft:"15px",marginRight:"23px",marginBottom:"8px",cursor:"pointer"},children:Object(a.jsx)(p.c,{size:30})})]}),Object(a.jsxs)(Le.a,{id:"chat-expand",elevation:5,children:[Object(a.jsxs)("div",{id:"chat-expand-header",style:{display:g?"flex":"none"},children:[Object(a.jsx)("img",{id:"chat-avatar-expand",src:n.generateRandomAvatar(t),alt:"profile pic"}),Object(a.jsxs)("p",{style:{paddingTop:"10px",marginLeft:"15px",fontSize:"1.1rem"},children:["Chats (",H.length,")"]}),Object(a.jsxs)("div",{style:{marginLeft:"auto",marginRight:"15px",marginTop:"8px"},children:[Object(a.jsx)(O.e,{size:30,cursor:"pointer",onClick:q,style:{marginRight:"10px"}}),Object(a.jsx)(p.a,{size:35,onClick:y})]})]}),Object(a.jsx)("div",{id:"chat-expand-body",style:{display:g?"block":"none"},children:H.map((function(e){return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"row",id:"chat-item",style:{background:e.chat_id===b?"#C2EFE9":"white"},onClick:function(){!function(e){C(e)}(e.chat_id),E(!0),h(null)},children:[e.is_private&&e.creator===t?Object(a.jsx)("img",{src:n.generateRandomAvatar(e.receiver.filter((function(e){return e!==t}))[0]),alt:"chatter",id:"chat-avatar-body"}):e.is_private&&e.creator!==t?Object(a.jsx)("img",{src:n.generateRandomAvatar(e.creator),alt:"chatter",id:"chat-avatar-body"}):Object(a.jsx)("div",{id:"group-info","data-tooltip":"group-info",children:Object(a.jsx)(x.d,{size:55,color:"#E76F51",style:{marginLeft:"10px",marginTop:"5px",marginRight:"5px"}})}),Object(a.jsxs)("p",{id:"chat-with",style:{color:"darkslategray",fontWeight:"bold"},children:[t===e.creator?$.filter((function(n){return n.user_id===e.receiver.filter((function(e){return e!==t}))[0]}))[0].full_name:$.filter((function(t){return t.user_id===e.creator}))[0].full_name," ",e.is_private?null:" + ".concat(e.receiver.length-2)]}),Object(a.jsx)("div",{id:"chat-date",className:"container",children:Object(a.jsx)("span",{style:{fontSize:"0.8rem"},children:Object(Y.default)(new Date(e.message_time),"HH:MM / do MMM")})}),Object(a.jsx)("p",{id:"chat-preview",children:e.message})]})},e.chat_id)}))})]}),Object(a.jsx)(Un,{chatId:k,handleClose:function(){return E(!T)},showChat:T,incoming:function(e){return l(e)},updateChat:function(e){return h(e)},alertState:function(e){return ie(e)}}),Object(a.jsx)(Kn,{visible:P,handleClose:function(){return I(!1)}})]})};var Gn=function(){var e=Object(o.b)(),t=e.isAuthenticated,n=e.user;return t?Object(a.jsx)(j.Provider,{value:parseInt(n.nickname),children:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(Ut,{}),Object(a.jsx)(B,{}),Object(a.jsx)(Wn,{}),Object(a.jsxs)(H.c,{children:[Object(a.jsx)(H.a,{path:"/users/:id",exact:!0,component:ue}),Object(a.jsx)(H.a,{path:"/dashboard",exact:!0,component:It}),Object(a.jsx)(H.a,{path:"/",exact:!0,component:It}),Object(a.jsx)(H.a,{path:"/scheduler",exact:!0,component:qe}),Object(a.jsx)(H.a,{path:"/projects/:id",exact:!0,component:le}),Object(a.jsx)(H.a,{path:"/projects",exact:!0,component:Z}),Object(a.jsx)(H.a,{path:"/tasks/create",exact:!0,component:lt}),Object(a.jsx)(H.a,{path:"/tasks/:id",exact:!0,component:at}),Object(a.jsx)(H.a,{path:"/tasks",exact:!0,component:Be}),Object(a.jsx)(H.a,{path:"/team",exact:!0,component:Vt}),Object(a.jsx)(H.a,{path:"/hr/",component:en}),Object(a.jsx)(H.a,{path:"/finance/",component:fn}),Object(a.jsx)(H.a,{path:"/sales/",component:Pn}),Object(a.jsx)(H.a,{path:"/notifications/",component:qn})]})]})}):Object(a.jsx)(de,{})};n(829);l.a.render(Object(a.jsx)(o.a,{domain:"tangible-development.us.auth0.com",clientId:"m094XPAtPxKs9PTo5LsscZKBKsTnzU5J",redirectUri:window.location.origin,children:Object(a.jsx)(i.a,{children:Object(a.jsx)(Gn,{})})}),document.getElementById("root"))}},[[830,1,2]]]);
//# sourceMappingURL=main.435edbd4.chunk.js.map